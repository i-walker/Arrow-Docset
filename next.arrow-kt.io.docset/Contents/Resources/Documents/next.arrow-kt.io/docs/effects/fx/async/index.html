<!DOCTYPE html><html><head>
    <meta charset="UTF-8"/>
    <a class="dashingAutolink" name="autolink-11462"></a><a class="dashAnchor" name="//apple_ref/cpp/Package/Arrow"></a><title>Arrow</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Functional companion to Kotlin&#39;s Standard Library"/>
    <meta name="keywords" content="functional-programming, kotlin-library, monads, monad-transformers, functional-data-structure, kotlin, fp-types, adt, free-monads, tagless-final, mtl, for-comprehension, category-theory"/>

    <meta property="og:image" content="http://arrow-kt.io/img/poster.png"/>
    <meta property="og:title" content="Arrow"/>
    <meta property="og:site_name" content="Arrow"/>
    <meta property="og:url" content="http://arrow-kt.io/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:description" content="Functional companion to Kotlin&#39;s Standard Library"/>
    <meta property="og:keywords" content="functional-programming, kotlin-library, monads, monad-transformers, functional-data-structure, kotlin, fp-types, adt, free-monads, tagless-final, mtl, for-comprehension, category-theory"/>

    <meta name="twitter:text:description" content="Functional companion to Kotlin&#39;s Standard Library"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@arrow_kt"/>
    <meta name="twitter:creator" content="@arrow_kt"/>
    <meta name="twitter:image" content="http://arrow-kt.io/img/twitter-card.png"/>

    <!-- Arrow versions metadata -->
    <meta name="previous-version" data-title="" data-url=""/>
    <meta name="stable-version" data-title="" data-url=""/>
    <meta name="next-version" data-title="" data-url=""/>

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet" type="text/css"/>
    <!-- Animated -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"/>
    <!-- Arrow main css -->
    <link rel="shortcut icon" href="../../../../img/favicon.png"/>
    <!-- highlight  css -->
    <link rel="stylesheet" type="text/css" href="../../../../css/highlight/atom-one-light.css"/>
    <!-- Arrow main css -->
    <link rel="stylesheet" type="text/css" href="../../../../css/arrow.css"/>

    <!-- Code to manage version information -->
    <script src="../../../../js/docVersions.js" defer=""></script>

    <!-- Diagrams support -->
    <script src="../../../../js/dagre.min.js"></script>
    <script src="../../../../js/lodash.min.js"></script>
    <script src="../../../../js/nomnoml.js"></script>
    <script src="../../../../js/diagrams.js" async=""></script>

    
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-18433785-18"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-18433785-18');
</script>

    
</head>

<body id="doc-body">
<div id="wrapper">
    <div id="sidebar-wrapper">
    <div class="sidebar-brand">
        <a class="brand" href="https://next.arrow-kt.io/">
            <img src="../../../../img/arrow-brand-sidebar.svg" alt=""/>
            <span>&Lambda;rrow</span>
        </a>
        <button type="button" id="main-toggle" class="sidebar-toggle">
            <span class="close"></span>
        </button>
    </div>

    <ul class="sidebar-nav sidebar-doc-versions">
  <li class="sidebar-nav-item">
    <a href="index.html#">
      <span>Arrow version</span>
      <span id="arrow-version"></span>
    </a>
    <ul>
      <li>
        <a href="https://arrow-kt.io/docs/">
          <span>
            v0.9.0 - STABLE
          </span>
        </a>
      </li>

      <li>
        <a href="../../../index.html">
            <span>
              v0.9.1 - NEXT
            </span>
        </a>
      </li>

      <li>
        <a href="https://0-8-2.arrow-kt.io/docs/">
            <span>
              v0.8.2 -
              PREVIOUS
            </span>
        </a>
      </li>

      
        
      
        
      
        
      
    </ul>
  </li>
</ul>


    <ul class="sidebar-nav">
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Quick Start</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../index.html">
                        <i class="fa fa-circle"></i>
                        <span>Index</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../quickstart/libraries/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Libraries</span>
                    </a>
                </li>
                
                <li>
                    <a href="https://next.arrow-kt.io/blog/">
                        <i class="fa fa-circle"></i>
                        <span>Blogs &amp; Presentations</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../quickstart/projects/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Projects &amp; Examples</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Arrow Fx</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../index.html">
                        <i class="fa fa-circle"></i>
                        <span>Getting Started</span>
                    </a>
                </li>
                
                <li>
                    <a href="index.html">
                        <i class="fa fa-circle"></i>
                        <span>Asynchronous &amp; Concurrent Programming</span>
                    </a>
                </li>
                
                <li>
                    <a href="../polymorphism/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Polymorphism. One Program multiple runtimes</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>API Docs</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../apidocs/arrow-typeclasses/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Type Classes</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-core-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Data Types</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-core-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-extras/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Extra Data Types</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-extras-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Extra Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-kotlinx-coroutines-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Coroutines</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-kotlinx-coroutines-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Coroutines Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-rx2-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Rx2</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-rx2-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Rx2 Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-reactor-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Reactor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-reactor-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Reactor Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-streams/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Streams</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-mtl/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MTL</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-optics/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Optics</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-recursion-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Recursion</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-recursion-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Recursion Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-generic/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Generic</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-free-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Free</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-validation/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Validation</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Patterns</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../patterns/glossary/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Glossary</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/error_handling/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Error Handling</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/dependency_injection/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Dependency Injection</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/monads/index.html">
                        <i class="fa fa-circle"></i>
                        <span>The Monad Tutorial</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/monad_comprehensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monad Comprehensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/polymorphic_programs/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Polymorphic Programs</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/free_algebras/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Free Algebras</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Data Types</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../datatypes/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Intro</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../datatypes/basic/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Basic Types</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/core/option/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Option</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/core/either/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Either</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/core/try/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Try</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/validated/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Validated</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/nonemptylist/index.html">
                        <i class="fa fa-circle"></i>
                        <span>NonEmptyList</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/listk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>ListK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/sequencek/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SequenceK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/setk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SetK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/mapk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MapK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/sortedmapk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SortedMapK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/ior/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Ior</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/core/id/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Id</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/reader/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Reader</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/kleisli/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Kleisli</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/state/index.html">
                        <i class="fa fa-circle"></i>
                        <span>State</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/statet/index.html">
                        <i class="fa fa-circle"></i>
                        <span>StateT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/store/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Store</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/moore/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Moore</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/sum/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Sum</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/day/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Day</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/writert/index.html">
                        <i class="fa fa-circle"></i>
                        <span>WriterT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/free/trampoline/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Trampoline</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/coproduct/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Coproduct</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/core/eval/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Eval</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/optiont/index.html">
                        <i class="fa fa-circle"></i>
                        <span>OptionT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/data/eithert/index.html">
                        <i class="fa fa-circle"></i>
                        <span>EitherT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/core/function0/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Function0</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/core/function1/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Function1</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/const/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Const</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Type Classes</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../typeclasses/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Intro</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/show/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Show</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/eq/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Eq</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/hash/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Hash</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/order/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Order</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/semigroup/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Semigroup</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-typeclasses/arrow.typeclasses/-semigroupal/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Semigroupal</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-typeclasses/arrow.typeclasses/-monoidal/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monoidal</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/monoid/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monoid</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-typeclasses/arrow.typeclasses/-semiring/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Semiring</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/foldable/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Foldable</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/bifoldable/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bifoldable</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/traverse/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Traverse</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/reducible/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Reducible</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/mtl/typeclasses/traversefilter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>TraverseFilter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/functor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Functor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/mtl/typeclasses/functorfilter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>FunctorFilter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/applicative/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Applicative</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/applicativeerror/index.html">
                        <i class="fa fa-circle"></i>
                        <span>ApplicativeError</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/selective/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Selective</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/monad/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monad</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/monaderror/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadError</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/effects/typeclasses/bracket/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bracket</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/mtl/typeclasses/monadfilter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadFilter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/mtl/typeclasses/monadreader/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadReader</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/mtl/typeclasses/monadwriter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadWriter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/mtl/typeclasses/monadstate/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadState</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/mtl/typeclasses/monadcombine/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadCombine</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/comonad/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Comonad</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/bimonad/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bimonad</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/bifunctor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bifunctor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/profunctor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Profunctor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/semigroupk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SemigroupK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/monoidk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonoidK</span>
                    </a>
                </li>
                
                <li>
                    <a href="https://next.arrow-kt.io/docs/typeclasses/inject/">
                        <i class="fa fa-circle"></i>
                        <span>Inject</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/alternative/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Alternative</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/divide/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Divide</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/divisible/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Divisible</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../arrow/typeclasses/decidable/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Decidable</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Effects</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../io/index.html">
                        <i class="fa fa-circle"></i>
                        <span>IO</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../monaddefer/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadDefer</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../async/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Async</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../effect/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effect</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../promise/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Promise</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../ref/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Ref</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../fiber/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Fiber</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-data/arrow.effects/-resource/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Resource</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Optics</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../optics/dsl/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Optics DSL</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/iso/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Iso</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/lens/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Lens</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/optional/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Optional</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/prism/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Prism</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/getter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Getter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/setter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Setter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/fold/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Fold</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/traversal/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Traversal</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/cons/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Cons</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/snoc/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Snoc</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/at/index.html">
                        <i class="fa fa-circle"></i>
                        <span>At</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/index/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Index</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/filterindex/index.html">
                        <i class="fa fa-circle"></i>
                        <span>FilterIndex</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/each/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Each</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>&Lambda;rrow Query Language</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../aql/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>&Lambda;rrow Query Language</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/select/index.html">
                        <i class="fa fa-circle"></i>
                        <span>select</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/from/index.html">
                        <i class="fa fa-circle"></i>
                        <span>from</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/where/index.html">
                        <i class="fa fa-circle"></i>
                        <span>where</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/groupby/index.html">
                        <i class="fa fa-circle"></i>
                        <span>groupBy</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/orderby/index.html">
                        <i class="fa fa-circle"></i>
                        <span>orderBy</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/sum/index.html">
                        <i class="fa fa-circle"></i>
                        <span>sum</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/union/index.html">
                        <i class="fa fa-circle"></i>
                        <span>union</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/custom/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Custom Data Types</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Generic</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../generic/coproduct/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Coproduct</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../generic/product/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Product</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Integrations</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../integrations/rx2/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Rx2</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../integrations/reactor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Reactor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../integrations/kotlinxcoroutines/index.html">
                        <i class="fa fa-circle"></i>
                        <span>kotlinx.coroutines</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../integrations/retrofit/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Retrofit</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../integrations/kindedj/index.html">
                        <i class="fa fa-circle"></i>
                        <span>KindedJ</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Free</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../free/free/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Free</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../free/freeapplicative/index.html">
                        <i class="fa fa-circle"></i>
                        <span>FreeApplicative</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../free/cofree/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Cofree</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../free/yoneda/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Yoneda</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../free/coyoneda/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Coyoneda</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Recursion Schemes</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../recursion/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Intro</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/recursive/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Recursive</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/corecursive/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Corecursive</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/birecursive/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Birecursive</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/mu/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Mu</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/nu/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Nu</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/fix/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Fix</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Legal</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../legal/credits/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Credits</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../legal/licenses/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Licenses</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
    </ul>

</div>

    <div id="doc-wrapper">
    <div class="doc-header">
        <button type="button" id="main-toggle" class="sidebar-toggle">
            <i class="fa fa-lg fa-bars menu-icon"></i>
        </button>
        <div class="search-wrapper">
          <input id="docsearch" class="search" placeholder="Search documentation..." type="search"/>
        </div>
        <a target="_blank" href="https://github.com/arrow-kt/arrow/edit/master/modules/docs/arrow-docs/docs/docs/effects/fx/async/README.md">
          <i class="fa fa-pencil"></i>
            Edit
        </a>
    </div>
    <div class="doc-content">
        
        <h1 id="asynchronous--concurrent-programming">Asynchronous &amp; Concurrent Programming</h1>

<p>Arrow Fx benefits from the <code class="highlighter-rouge">!effect</code> application and direct syntax for asynchronous programming by yielding extremely succinct programs without callbacks. This allows us to use direct style syntax with asynchronous and concurrent operations while preserving effect control in the types and runtime and bind their results to the left-hand side. The resulting expressions enjoy the same syntax that most OOP and Java programmers are already accustomed to, direct blocking imperative style.</p>

<h2 id="dispatchers-and-contexts">Dispatchers and Contexts</h2>

<p>Performing effects while switching execution contexts a la carte is trivial.</p>

<div data-executable="true" class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.effects.IO</span>
<span class="k">import</span> <span class="nn">arrow.unsafe</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.unsafeRun.runBlocking</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.fx.fx</span>
<span class="k">import</span> <span class="nn">kotlinx.coroutines.newSingleThreadContext</span>

<span class="c1">//sampleStart</span>
<span class="kd">val</span> <span class="py">contextA</span> <span class="p">=</span> <span class="n">newSingleThreadContext</span><span class="p">(</span><span class="s">&#34;A&#34;</span><span class="p">)</span>

<span class="n">suspend</span> <span class="k">fun</span> <span class="nf">printThreadName</span><span class="p">():</span> <span class="nc">Unit</span> <span class="p">=</span>
  <span class="n">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="n">currentThread</span><span class="p">().</span><span class="n">name</span><span class="p">)</span>

<span class="kd">val</span> <span class="py">program</span> <span class="p">=</span> <span class="n">fx</span> <span class="p">{</span>
  <span class="n">continueOn</span><span class="p">(</span><span class="n">contextA</span><span class="p">)</span>
  <span class="p">!</span><span class="n">effect</span> <span class="p">{</span> <span class="n">printThreadName</span><span class="p">()</span> <span class="p">}</span>
  <span class="n">continueOn</span><span class="p">(</span><span class="n">NonBlocking</span><span class="p">)</span>
  <span class="p">!</span><span class="n">effect</span> <span class="p">{</span> <span class="n">printThreadName</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//sampleEnd</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// The edge of our world</span>
  <span class="n">unsafe</span> <span class="p">{</span> <span class="n">runBlocking</span> <span class="p">{</span> <span class="n">program</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In addition to <code class="highlighter-rouge">continueOn</code>, Arrow Fx allows users to override the executions context in all functions that require one.</p>

<h2 id="fibers">Fibers</h2>

<p>A <a href="https://next.arrow-kt.io/docs/effects/fiber">Fiber</a> represents the pure result of a [Concurrent] data type starting concurrently that can be either <code class="highlighter-rouge">join</code>ed or <code class="highlighter-rouge">cancel</code>ed.</p>

<div data-executable="true" class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.effects.IO</span>
<span class="k">import</span> <span class="nn">arrow.unsafe</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.unsafeRun.runBlocking</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.fx.fx</span>

<span class="c1">//sampleStart</span>
<span class="n">suspend</span> <span class="k">fun</span> <span class="nf">threadName</span><span class="p">():</span> <span class="nc">String</span> <span class="p">=</span>
  <span class="n">Thread</span><span class="p">.</span><span class="n">currentThread</span><span class="p">().</span><span class="n">name</span>

<span class="kd">val</span> <span class="py">program</span> <span class="p">=</span> <span class="n">fx</span> <span class="p">{</span>
  <span class="kd">val</span> <span class="py">fiberA</span> <span class="p">=</span> <span class="p">!</span><span class="n">NonBlocking</span><span class="p">.</span><span class="n">startFiber</span><span class="p">(</span><span class="n">effect</span> <span class="p">{</span> <span class="n">threadName</span><span class="p">()</span> <span class="p">})</span>
  <span class="kd">val</span> <span class="py">fiberB</span> <span class="p">=</span> <span class="p">!</span><span class="n">NonBlocking</span><span class="p">.</span><span class="n">startFiber</span><span class="p">(</span><span class="n">effect</span> <span class="p">{</span> <span class="n">threadName</span><span class="p">()</span> <span class="p">})</span>
  <span class="kd">val</span> <span class="py">threadA</span> <span class="p">=</span> <span class="p">!</span><span class="n">fiberA</span><span class="p">.</span><span class="n">join</span><span class="p">()</span>
  <span class="kd">val</span> <span class="py">threadB</span> <span class="p">=</span> <span class="p">!</span><span class="n">fiberB</span><span class="p">.</span><span class="n">join</span><span class="p">()</span>
  <span class="p">!</span><span class="n">effect</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="n">threadA</span><span class="p">)</span> <span class="p">}</span>
  <span class="p">!</span><span class="n">effect</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="n">threadB</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//sampleEnd</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// The edge of our world</span>
  <span class="n">unsafe</span> <span class="p">{</span> <span class="n">runBlocking</span> <span class="p">{</span> <span class="n">program</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When we spawn fibers, we can obtain their deferred non-blocking result using <code class="highlighter-rouge">join()</code> and destructuring the effect.</p>

<p><code class="highlighter-rouge">NonBlocking</code> is an execution context that&rsquo;s available to all concurrent data types, such as IO, that you can use directly on <code class="highlighter-rouge">fx</code> blocks.</p>

<p>Note that, because we are using <code class="highlighter-rouge">Fiber</code> and a Dispatcher that may not create new threads in all cases here, there is no guarantee that the printed thread names will be different.</p>

<p>This is part of the greatness of Fibers. They run as scheduled based on the policies provided by the Dispatcher&rsquo;s Context.</p>

<h2 id="parallelization--concurrency">Parallelization &amp; Concurrency</h2>

<p>Arrow Fx comes with built-in versions of <code class="highlighter-rouge">parMapN</code>, <code class="highlighter-rouge">parTraverse</code>, and <code class="highlighter-rouge">parSequence</code> allowing users to dispatch effects in parallel and receive non-blocking results and direct syntax without wrappers.</p>

<h3 id="parmapn"><code class="highlighter-rouge">parMapN</code></h3>

<p><code class="highlighter-rouge">parMapN</code> allows <em>N#</em> effects to run in parallel non-blocking waiting for all results to complete and then delegates to a user-provided function that applies a final transformation over the results.
Once the function specifies a valid return, we can observe how the returned non-blocking value is bound on the left-hand side.</p>

<div data-executable="true" class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.effects.IO</span>
<span class="k">import</span> <span class="nn">arrow.unsafe</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.unsafeRun.runBlocking</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.fx.fx</span>

<span class="c1">//sampleStart</span>
<span class="n">suspend</span> <span class="k">fun</span> <span class="nf">threadName</span><span class="p">():</span> <span class="nc">String</span> <span class="p">=</span>
  <span class="n">Thread</span><span class="p">.</span><span class="n">currentThread</span><span class="p">().</span><span class="n">name</span>
  
<span class="kd">data class</span> <span class="nc">ThreadInfo</span><span class="p">(</span>
  <span class="kd">val</span> <span class="py">threadA</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span>
  <span class="kd">val</span> <span class="py">threadB</span><span class="p">:</span> <span class="n">String</span>
<span class="p">)</span>

<span class="kd">val</span> <span class="py">program</span> <span class="p">=</span> <span class="n">fx</span> <span class="p">{</span>
  <span class="kd">val</span> <span class="p">(</span><span class="py">threadA</span><span class="err">:</span> <span class="py">String</span><span class="p">,</span> <span class="py">threadB</span><span class="err">:</span> <span class="py">String</span><span class="p">)</span> <span class="p">=</span> 
    <span class="p">!</span><span class="n">NonBlocking</span><span class="p">.</span><span class="n">parMapN</span><span class="p">(</span>
      <span class="n">effect</span> <span class="p">{</span> <span class="n">threadName</span><span class="p">()</span> <span class="p">},</span>
      <span class="n">effect</span> <span class="p">{</span> <span class="n">threadName</span><span class="p">()</span> <span class="p">},</span>
      <span class="o">::</span><span class="n">ThreadInfo</span>
    <span class="p">)</span>
  <span class="p">!</span><span class="n">effect</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="n">threadA</span><span class="p">)</span> <span class="p">}</span>
  <span class="p">!</span><span class="n">effect</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="n">threadB</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//sampleEnd</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// The edge of our world</span>
  <span class="n">unsafe</span> <span class="p">{</span> <span class="n">runBlocking</span> <span class="p">{</span> <span class="n">program</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="partraverse"><code class="highlighter-rouge">parTraverse</code></h3>

<p><code class="highlighter-rouge">parTraverse</code> allows any <code class="highlighter-rouge">Iterable&lt;suspend () -&gt; A&gt;</code> to iterate over its contained effects in parallel as we apply a user-provided function over each effect result and then gather all the transformed results in a <code class="highlighter-rouge">List&lt;B&gt;</code>.</p>

<div data-executable="true" class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.effects.IO</span>
<span class="k">import</span> <span class="nn">arrow.unsafe</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.unsafeRun.runBlocking</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.fx.fx</span>

<span class="c1">//sampleStart</span>
<span class="n">suspend</span> <span class="k">fun</span> <span class="nf">threadName</span><span class="p">():</span> <span class="nc">String</span> <span class="p">=</span>
  <span class="n">Thread</span><span class="p">.</span><span class="n">currentThread</span><span class="p">().</span><span class="n">name</span>

<span class="kd">val</span> <span class="py">program</span> <span class="p">=</span> <span class="n">fx</span> <span class="p">{</span>
  <span class="kd">val</span> <span class="py">result</span><span class="p">:</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="p">!</span><span class="n">NonBlocking</span><span class="p">.</span><span class="n">parTraverse</span><span class="p">(</span>
    <span class="n">listOf</span><span class="p">(</span>
        <span class="n">effect</span> <span class="p">{</span> <span class="n">threadName</span><span class="p">()</span> <span class="p">},</span>
        <span class="n">effect</span> <span class="p">{</span> <span class="n">threadName</span><span class="p">()</span> <span class="p">},</span>
        <span class="n">effect</span> <span class="p">{</span> <span class="n">threadName</span><span class="p">()</span> <span class="p">}</span>
    <span class="p">)</span>
  <span class="p">)</span> <span class="p">{</span>
      <span class="s">&#34;running on: $it&#34;</span> 
    <span class="p">}</span>
  <span class="p">!</span><span class="n">effect</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//sampleEnd</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// The edge of our world</span>
  <span class="n">unsafe</span> <span class="p">{</span> <span class="n">runBlocking</span> <span class="p">{</span> <span class="n">program</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="parsequence"><code class="highlighter-rouge">parSequence</code></h3>

<p><code class="highlighter-rouge">parSequence</code> applies all effects in <code class="highlighter-rouge">Iterable&lt;suspend () -&gt; A&gt;</code> in non-blocking in parallel and then gathers all the transformed results and returns them in a <code class="highlighter-rouge">List&lt;B&gt;</code>.</p>

<div data-executable="true" class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.effects.IO</span>
<span class="k">import</span> <span class="nn">arrow.unsafe</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.unsafeRun.runBlocking</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.fx.fx</span>

<span class="c1">//sampleStart</span>
<span class="n">suspend</span> <span class="k">fun</span> <span class="nf">threadName</span><span class="p">():</span> <span class="nc">String</span> <span class="p">=</span>
  <span class="n">Thread</span><span class="p">.</span><span class="n">currentThread</span><span class="p">().</span><span class="n">name</span>

<span class="kd">val</span> <span class="py">program</span> <span class="p">=</span> <span class="n">fx</span> <span class="p">{</span>
  <span class="kd">val</span> <span class="py">result</span><span class="p">:</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="p">!</span><span class="n">NonBlocking</span><span class="p">.</span><span class="n">parSequence</span><span class="p">(</span>
    <span class="n">listOf</span><span class="p">(</span>
      <span class="n">effect</span> <span class="p">{</span> <span class="n">threadName</span><span class="p">()</span> <span class="p">},</span>
      <span class="n">effect</span> <span class="p">{</span> <span class="n">threadName</span><span class="p">()</span> <span class="p">},</span>
      <span class="n">effect</span> <span class="p">{</span> <span class="n">threadName</span><span class="p">()</span> <span class="p">}</span>
    <span class="p">)</span>
  <span class="p">)</span>
  
  <span class="p">!</span><span class="n">effect</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//sampleEnd</span>
<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// The edge of our world</span>
  <span class="n">unsafe</span> <span class="p">{</span> <span class="n">runBlocking</span> <span class="p">{</span> <span class="n">program</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="cancellation">Cancellation</h2>

<p>All concurrent <code class="highlighter-rouge">fx</code> continuations are cancellable. Users may use the <code class="highlighter-rouge">fxCancellable</code> function to run <code class="highlighter-rouge">fx</code> blocks that in addition to returning a value, returns a disposable handler that can interrupt the operation.</p>

<div data-executable="true" class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.effects.IO</span>
<span class="k">import</span> <span class="nn">arrow.unsafe</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.unsafeRun.runBlocking</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.fx.fxCancellable</span>

<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// The edge of our world</span>
<span class="c1">//sampleStart</span>
  <span class="kd">val</span> <span class="p">(</span><span class="py">_</span><span class="p">,</span> <span class="py">disposable</span><span class="p">)</span> <span class="p">=</span> <span class="n">fxCancellable</span> <span class="p">{</span>
    <span class="p">!</span><span class="n">effect</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="s">&#34;BOOM!&#34;</span><span class="p">)</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="c1">//sampleEnd</span>
  <span class="n">println</span><span class="p">(</span><span class="n">disposable</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="arrow-fx-vs-kotlinx-coroutines">Arrow Fx vs KotlinX Coroutines</h2>

<p>In the same way that Arrow serves as a companion to the Kotlin standard library in providing the abstractions and runtime to implement Typed FP in Kotlin, Arrow Fx can be seen as a companion to the KotlinX Coroutines library.</p>

<p>Arrow Fx adds an extra layer of security and effect control where we can easily model side effects and how they interact with pure computations.</p>

<p>In contrast with the couroutines library where <code class="highlighter-rouge">Deferred</code> computations are eager by default and fire immediately when instantiated, in Arrow Fx, all bindings and compositions are lazy and suspended ensuring execution is explicit and always deferred until the last second.</p>

<p>Deferring execution and being able to suspend side effects is essential for programs built with Arrow because we can ensure that effects run in a controlled environment and preserve the properties of purity and referential transparency, allowing us to apply equational reasoning over the different parts that conform our programs.</p>

<p>Since Arrow Fx uses this lazy behavior by default, we don&rsquo;t have to resort to special configuration arguments when creating deferred computations.</p>

<p>The value <code class="highlighter-rouge">program</code> below is pure and referentially transparent because <code class="highlighter-rouge">fx</code> returns a lazy computation:</p>

<div data-executable="true" class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.effects.IO</span>
<span class="k">import</span> <span class="nn">arrow.unsafe</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.unsafeRun.runBlocking</span>
<span class="k">import</span> <span class="nn">arrow.effects.extensions.io.fx.fx</span>
<span class="c1">//sampleStart</span>
<span class="n">suspend</span> <span class="k">fun</span> <span class="nf">printThreadName</span><span class="p">():</span> <span class="nc">Unit</span> <span class="p">=</span>
  <span class="n">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="n">currentThread</span><span class="p">().</span><span class="n">name</span><span class="p">)</span>

<span class="kd">val</span> <span class="py">program</span> <span class="p">=</span> <span class="n">fx</span> <span class="p">{</span>
  <span class="p">!</span><span class="n">effect</span> <span class="p">{</span> <span class="n">printThreadName</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// The edge of our world</span>
  <span class="n">unsafe</span> <span class="p">{</span> <span class="n">runBlocking</span> <span class="p">{</span> <span class="n">program</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//sampleEnd</span>
</code></pre></div></div>

<p>Using the same with the default <code class="highlighter-rouge">async</code> constructor from the coroutines library will yield an impure function because effects are not controlled and they fire immediately upon function invocation:</p>

<div data-executable="true" class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">kotlinx.coroutines.*</span>
<span class="k">import</span> <span class="nn">kotlin.system.*</span>

<span class="c1">//sampleStart</span>
<span class="n">suspend</span> <span class="k">fun</span> <span class="nf">printThreadName</span><span class="p">():</span> <span class="nc">Unit</span> <span class="p">=</span>
  <span class="n">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="n">currentThread</span><span class="p">().</span><span class="n">name</span><span class="p">)</span>

<span class="n">suspend</span> <span class="k">fun</span> <span class="nf">program</span><span class="p">()</span> <span class="p">=</span> 
  <span class="n">GlobalScope</span><span class="p">.</span><span class="n">async</span> <span class="p">{</span> <span class="n">printThreadName</span><span class="p">()</span> <span class="p">}</span>

<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span> 
  <span class="n">runBlocking</span><span class="p">&lt;</span><span class="n">Unit</span><span class="p">&gt;</span> <span class="p">{</span> <span class="n">program</span><span class="p">().</span><span class="n">await</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//sampleEnd</span>
</code></pre></div></div>

<p>In the previous program, <code class="highlighter-rouge">printThreadName()</code> may be invoked before we call <code class="highlighter-rouge">await</code>.
If we wanted a pure lazy version of this operation, we need to hint to the <code class="highlighter-rouge">async</code> constructor that our policy is not to start right away.</p>

<div data-executable="true" class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">kotlinx.coroutines.*</span>
<span class="k">import</span> <span class="nn">kotlin.system.*</span>

<span class="c1">//sampleStart</span>
<span class="n">suspend</span> <span class="k">fun</span> <span class="nf">printThreadName</span><span class="p">():</span> <span class="nc">Unit</span> <span class="p">=</span>
  <span class="n">println</span><span class="p">(</span><span class="n">Thread</span><span class="p">.</span><span class="n">currentThread</span><span class="p">().</span><span class="n">name</span><span class="p">)</span>

<span class="n">suspend</span> <span class="k">fun</span> <span class="nf">program</span><span class="p">()</span> <span class="p">=</span> 
  <span class="n">GlobalScope</span><span class="p">.</span><span class="n">async</span><span class="p">(</span><span class="n">start</span> <span class="p">=</span> <span class="n">CoroutineStart</span><span class="p">.</span><span class="n">LAZY</span><span class="p">)</span> <span class="p">{</span> <span class="n">printThreadName</span><span class="p">()</span> <span class="p">}</span>

<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span> 
  <span class="n">runBlocking</span><span class="p">&lt;</span><span class="n">Unit</span><span class="p">&gt;</span> <span class="p">{</span> <span class="n">program</span><span class="p">().</span><span class="n">await</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//sampleEnd</span>
</code></pre></div></div>

<p>If an <code class="highlighter-rouge">async</code> computation fires immediately, it does not give us a chance to suspend side effects. This implies that all functions that immediately produce their effects when invoked are impure and non-referentially transparent. This is the default in the KotlinX Coroutines Library.</p>

<p>Arrow Fx is not opinionated as to whether eagerly firing is a more or less appropriate technique. We, the authors, understand this style gathers a different audience where purity and referential transparency may not be goals or optimization techniques are in play, and that&rsquo;s just fine.</p>

<p>Life goes on.</p>

<p>Arrow Fx offers in contrast, a different approach that is in-line with Arrow&rsquo;s primary concern - helping you, as a user, create well-typed safe and pure programs in Kotlin.</p>

<p>On top of complementing the KolinX Coroutines API, Arrow Fx provides interoperability with its runtime allowing you to run polymorphic programs over the KotlinX Coroutines, Rx2, Reactor, and even custom runtimes.</p>

<h2 id="integrating-with-third-party-libraries">Integrating with third-party libraries</h2>

<p>Arrow Fx integrates with the Arrow Effects IO runtime, Rx2, Reactor framework, and any library that models effectful async/concurrent computations and can provide a <code class="highlighter-rouge">@extension</code> to the <code class="highlighter-rouge">ConcurrentEffect&lt;F&gt;</code> type class defined in the <code class="highlighter-rouge">arrow-effects</code> module out of the box.</p>

<p>If you are interested in providing your own runtime as a backend to the Arrow Fx library, please contact us in the main <a href="https://gitter.im/arrow-kt/Lobby">Arrow Gitter</a> or #Arrow channel on the official <a href="https://kotlinlang.slack.com/">Kotlin Lang Slack</a> with any questions and we&rsquo;ll help you along the way.</p>

    </div>
</div>

</div>
<!-- Jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!-- Arrow playground -->
<script src="https://unpkg.com/arrow-playground@1" data-selector="[class^=&#39;language-kotlin&#39;]"></script>
<!-- Highlight -->
<script src="../../../../js/highlight.pack.js"></script>
<script>
  hljs.initHighlighting();
</script>
<!-- Docsearch -->
<script type="text/javascript" src="../../../../js/docsearch.min.js"></script>
<!-- Custom scripts for this template -->
<script src="../../../../js/functions.js"></script>
<!-- Gitter -->
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'arrow-kt/Lobby'
  };

</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script>



</body></html>