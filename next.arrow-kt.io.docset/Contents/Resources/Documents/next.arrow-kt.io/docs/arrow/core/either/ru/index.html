<!DOCTYPE html><html><head>
    <meta charset="UTF-8"/>
    <title>Arrow</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Functional companion to Kotlin&#39;s Standard Library"/>
    <meta name="keywords" content="functional-programming, kotlin-library, monads, monad-transformers, functional-data-structure, kotlin, fp-types, adt, free-monads, tagless-final, mtl, for-comprehension, category-theory"/>

    <meta property="og:image" content="http://arrow-kt.io/img/poster.png"/>
    <meta property="og:title" content="Arrow"/>
    <meta property="og:site_name" content="Arrow"/>
    <meta property="og:url" content="http://arrow-kt.io/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:description" content="Functional companion to Kotlin&#39;s Standard Library"/>
    <meta property="og:keywords" content="functional-programming, kotlin-library, monads, monad-transformers, functional-data-structure, kotlin, fp-types, adt, free-monads, tagless-final, mtl, for-comprehension, category-theory"/>

    <meta name="twitter:text:description" content="Functional companion to Kotlin&#39;s Standard Library"/>
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@arrow_kt"/>
    <meta name="twitter:creator" content="@arrow_kt"/>
    <meta name="twitter:image" content="http://arrow-kt.io/img/twitter-card.png"/>

    <!-- Arrow versions metadata -->
    <meta name="previous-version" data-title="" data-url=""/>
    <meta name="stable-version" data-title="" data-url=""/>
    <meta name="next-version" data-title="" data-url=""/>

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet" type="text/css"/>
    <!-- Animated -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css"/>
    <!-- Arrow main css -->
    <link rel="shortcut icon" href="../../../../../img/favicon.png"/>
    <!-- highlight  css -->
    <link rel="stylesheet" type="text/css" href="../../../../../css/highlight/atom-one-light.css"/>
    <!-- Arrow main css -->
    <link rel="stylesheet" type="text/css" href="../../../../../css/arrow.css"/>

    <!-- Code to manage version information -->
    <script src="../../../../../js/docVersions.js" defer=""></script>

    <!-- Diagrams support -->
    <script src="../../../../../js/dagre.min.js"></script>
    <script src="../../../../../js/lodash.min.js"></script>
    <script src="../../../../../js/nomnoml.js"></script>
    <script src="../../../../../js/diagrams.js" async=""></script>

    
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-18433785-18"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-18433785-18');
</script>

    
</head>

<body id="doc-body">
<div id="wrapper">
    <div id="sidebar-wrapper">
    <div class="sidebar-brand">
        <a class="brand" href="https://next.arrow-kt.io/">
            <img src="../../../../../img/arrow-brand-sidebar.svg" alt=""/>
            <span>&Lambda;rrow</span>
        </a>
        <button type="button" id="main-toggle" class="sidebar-toggle">
            <span class="close"></span>
        </button>
    </div>

    <ul class="sidebar-nav sidebar-doc-versions">
  <li class="sidebar-nav-item">
    <a href="index.html#">
      <span>Arrow version</span>
      <span id="arrow-version"></span>
    </a>
    <ul>
      <li>
        <a href="https://arrow-kt.io/docs/">
          <span>
            v0.9.0 - STABLE
          </span>
        </a>
      </li>

      <li>
        <a href="../../../../index.html">
            <span>
              v0.9.1 - NEXT
            </span>
        </a>
      </li>

      <li>
        <a href="https://0-8-2.arrow-kt.io/docs/">
            <span>
              v0.8.2 -
              PREVIOUS
            </span>
        </a>
      </li>

      
        
      
        
      
        
      
    </ul>
  </li>
</ul>


    <ul class="sidebar-nav">
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Quick Start</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../index.html">
                        <i class="fa fa-circle"></i>
                        <span>Index</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../quickstart/libraries/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Libraries</span>
                    </a>
                </li>
                
                <li>
                    <a href="https://next.arrow-kt.io/blog/">
                        <i class="fa fa-circle"></i>
                        <span>Blogs &amp; Presentations</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../quickstart/projects/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Projects &amp; Examples</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Arrow Fx</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../effects/fx/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Getting Started</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../effects/fx/async/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Asynchronous &amp; Concurrent Programming</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../effects/fx/polymorphism/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Polymorphism. One Program multiple runtimes</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>API Docs</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../apidocs/arrow-typeclasses/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Type Classes</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-core-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Data Types</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-core-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-extras/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Extra Data Types</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-extras-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Extra Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-effects-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-effects-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-effects-kotlinx-coroutines-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Coroutines</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-effects-kotlinx-coroutines-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Coroutines Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-effects-rx2-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Rx2</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-effects-rx2-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Rx2 Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-effects-reactor-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Reactor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-effects-reactor-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Reactor Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-streams/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Streams</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-mtl/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MTL</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-optics/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Optics</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-recursion-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Recursion</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-recursion-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Recursion Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-generic/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Generic</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-free-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Free</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-validation/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Validation</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Patterns</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../patterns/glossary/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Glossary</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../patterns/error_handling/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Error Handling</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../patterns/dependency_injection/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Dependency Injection</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../patterns/monads/index.html">
                        <i class="fa fa-circle"></i>
                        <span>The Monad Tutorial</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../patterns/monad_comprehensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monad Comprehensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../patterns/polymorphic_programs/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Polymorphic Programs</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../patterns/free_algebras/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Free Algebras</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Data Types</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../datatypes/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Intro</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../datatypes/basic/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Basic Types</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../option/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Option</span>
                    </a>
                </li>
                
                <li>
                    <a href="../index.html">
                        <i class="fa fa-circle"></i>
                        <span>Either</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../try/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Try</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/validated/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Validated</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/nonemptylist/index.html">
                        <i class="fa fa-circle"></i>
                        <span>NonEmptyList</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/listk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>ListK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/sequencek/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SequenceK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/setk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SetK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/mapk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MapK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/sortedmapk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SortedMapK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/ior/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Ior</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../id/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Id</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/reader/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Reader</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/kleisli/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Kleisli</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/state/index.html">
                        <i class="fa fa-circle"></i>
                        <span>State</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/statet/index.html">
                        <i class="fa fa-circle"></i>
                        <span>StateT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/store/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Store</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/moore/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Moore</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/sum/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Sum</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/day/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Day</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/writert/index.html">
                        <i class="fa fa-circle"></i>
                        <span>WriterT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../free/trampoline/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Trampoline</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/coproduct/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Coproduct</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../eval/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Eval</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/optiont/index.html">
                        <i class="fa fa-circle"></i>
                        <span>OptionT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../data/eithert/index.html">
                        <i class="fa fa-circle"></i>
                        <span>EitherT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../function0/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Function0</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../function1/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Function1</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/const/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Const</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Type Classes</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../typeclasses/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Intro</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/show/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Show</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/eq/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Eq</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/hash/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Hash</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/order/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Order</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/semigroup/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Semigroup</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-typeclasses/arrow.typeclasses/-semigroupal/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Semigroupal</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-typeclasses/arrow.typeclasses/-monoidal/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monoidal</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/monoid/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monoid</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-typeclasses/arrow.typeclasses/-semiring/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Semiring</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/foldable/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Foldable</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/bifoldable/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bifoldable</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/traverse/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Traverse</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/reducible/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Reducible</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../mtl/typeclasses/traversefilter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>TraverseFilter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/functor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Functor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../mtl/typeclasses/functorfilter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>FunctorFilter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/applicative/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Applicative</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/applicativeerror/index.html">
                        <i class="fa fa-circle"></i>
                        <span>ApplicativeError</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/selective/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Selective</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/monad/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monad</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/monaderror/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadError</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../effects/typeclasses/bracket/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bracket</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../mtl/typeclasses/monadfilter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadFilter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../mtl/typeclasses/monadreader/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadReader</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../mtl/typeclasses/monadwriter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadWriter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../mtl/typeclasses/monadstate/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadState</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../mtl/typeclasses/monadcombine/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadCombine</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/comonad/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Comonad</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/bimonad/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bimonad</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/bifunctor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bifunctor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/profunctor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Profunctor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/semigroupk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SemigroupK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/monoidk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonoidK</span>
                    </a>
                </li>
                
                <li>
                    <a href="https://next.arrow-kt.io/docs/typeclasses/inject/">
                        <i class="fa fa-circle"></i>
                        <span>Inject</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/alternative/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Alternative</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/divide/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Divide</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/divisible/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Divisible</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../typeclasses/decidable/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Decidable</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Effects</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../effects/io/index.html">
                        <i class="fa fa-circle"></i>
                        <span>IO</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../effects/monaddefer/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadDefer</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../effects/async/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Async</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../effects/effect/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effect</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../effects/promise/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Promise</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../effects/ref/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Ref</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../effects/fiber/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Fiber</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../apidocs/arrow-effects-data/arrow.effects/-resource/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Resource</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Optics</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../optics/dsl/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Optics DSL</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/iso/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Iso</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/lens/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Lens</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/optional/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Optional</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/prism/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Prism</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/getter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Getter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/setter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Setter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/fold/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Fold</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/traversal/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Traversal</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/cons/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Cons</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/snoc/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Snoc</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/at/index.html">
                        <i class="fa fa-circle"></i>
                        <span>At</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/index/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Index</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/filterindex/index.html">
                        <i class="fa fa-circle"></i>
                        <span>FilterIndex</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../optics/each/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Each</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>&Lambda;rrow Query Language</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../aql/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>&Lambda;rrow Query Language</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../aql/select/index.html">
                        <i class="fa fa-circle"></i>
                        <span>select</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../aql/from/index.html">
                        <i class="fa fa-circle"></i>
                        <span>from</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../aql/where/index.html">
                        <i class="fa fa-circle"></i>
                        <span>where</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../aql/groupby/index.html">
                        <i class="fa fa-circle"></i>
                        <span>groupBy</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../aql/orderby/index.html">
                        <i class="fa fa-circle"></i>
                        <span>orderBy</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../aql/sum/index.html">
                        <i class="fa fa-circle"></i>
                        <span>sum</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../aql/union/index.html">
                        <i class="fa fa-circle"></i>
                        <span>union</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../aql/custom/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Custom Data Types</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Generic</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../generic/coproduct/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Coproduct</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../generic/product/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Product</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Integrations</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../integrations/rx2/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Rx2</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../integrations/reactor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Reactor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../integrations/kotlinxcoroutines/index.html">
                        <i class="fa fa-circle"></i>
                        <span>kotlinx.coroutines</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../integrations/retrofit/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Retrofit</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../integrations/kindedj/index.html">
                        <i class="fa fa-circle"></i>
                        <span>KindedJ</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Free</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../free/free/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Free</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../free/freeapplicative/index.html">
                        <i class="fa fa-circle"></i>
                        <span>FreeApplicative</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../free/cofree/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Cofree</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../free/yoneda/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Yoneda</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../free/coyoneda/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Coyoneda</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Recursion Schemes</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../recursion/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Intro</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../recursion/recursive/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Recursive</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../recursion/corecursive/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Corecursive</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../recursion/birecursive/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Birecursive</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../recursion/mu/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Mu</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../recursion/nu/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Nu</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../recursion/fix/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Fix</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Legal</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../../legal/credits/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Credits</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../../legal/licenses/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Licenses</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
    </ul>

</div>

    <div id="doc-wrapper">
    <div class="doc-header">
        <button type="button" id="main-toggle" class="sidebar-toggle">
            <i class="fa fa-lg fa-bars menu-icon"></i>
        </button>
        <div class="search-wrapper">
          <input id="docsearch" class="search" placeholder="Search documentation..." type="search"/>
        </div>
        <a target="_blank" href="https://github.com/arrow-kt/arrow/edit/master/modules/docs/arrow-docs/docs/docs/arrow/core/either/ru/README.md">
          <i class="fa fa-pencil"></i>
            Edit
        </a>
    </div>
    <div class="doc-content">
        
        <a class="button-video">
    <i class="fa fa-youtube-play"></i> Watch video
</a>

<div id="video-panel" class="video-panel">
    <h2><i class="fa fa-video-camera"></i> Video tutorial</h2>
    <div class="bg-video">
        <div class="wrapper-video">
            <div class="video-container">
                <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/q6HpChSq-xc?rel=0&amp;showinfo=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
            </div>
        </div>
    </div>
</div>

        
        <a class="dashingAutolink" name="autolink-9"></a><a class="dashAnchor" name="//apple_ref/cpp/Guide/Either"></a><h2 id="either">Either</h2>

<p class="beginner">beginner</p>

<p><a href="../index.html">English</a></p>

<p>Программируя мы часто пишем функции, которые могут завершиться неудачей.
Например, сетевой запрос может прерваться из-за проблем c соединением, или из сервиса вернется JSON, который мы не готовы спарсить.</p>

<p>Для того, чтобы сообщить о подобных ошибках принято бросать исключения. Однако у этого подхода есть ряд недостатков:</p>
<ul>
  <li>исключения не отслеживаются компилятором, поэтому для того, чтобы посмотреть какие исключения может бросить функция приходится копаться в коде</li>
  <li>для того, чтобы обработать эти исключения мы обязаны поймать их из вызывающей функции.</li>
</ul>

<p>Всё это приводит к чрезмерной сложности, особенно, если требуется описать процедуру бросания исключений композиционно:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.*</span>
<span class="k">import</span> <span class="nn">arrow.core.*</span>

<span class="kd">val</span> <span class="py">throwsSomeStuff</span><span class="p">:</span> <span class="p">(</span><span class="n">Int</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">Double</span> <span class="p">=</span> <span class="p">{</span><span class="n">x</span> <span class="p">-&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">toDouble</span><span class="p">()}</span>
<span class="kd">val</span> <span class="py">throwsOtherThings</span><span class="p">:</span> <span class="p">(</span><span class="n">Double</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">String</span> <span class="p">=</span> <span class="p">{</span><span class="n">x</span> <span class="p">-&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">toString</span><span class="p">()}</span>
<span class="kd">val</span> <span class="py">moreThrowing</span><span class="p">:</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="p">{</span><span class="n">x</span> <span class="p">-&gt;</span> <span class="n">listOf</span><span class="p">(</span><span class="n">x</span><span class="p">)}</span>
<span class="kd">val</span> <span class="py">magic</span> <span class="p">=</span> <span class="n">throwsSomeStuff</span><span class="p">.</span><span class="n">andThen</span><span class="p">(</span><span class="n">throwsOtherThings</span><span class="p">).</span><span class="n">andThen</span><span class="p">(</span><span class="n">moreThrowing</span><span class="p">)</span>
<span class="n">magic</span>
<span class="c1">// (A) -&gt; C</span>
</code></pre></div></div>

<p>Допустим, в вышепримеденном коде каждая из функций может бросить исключение. Смотря на сигнатуры этих функций мы не знаем, какие исключения могут быть ими брошены. А учитывая, что функции скомпонованы, исключение может быть брошено на любом этапе исполнения программы; плюс две функции могут бросить исключения одного и того же типа &mdash; что значительно усложнит отладку.</p>

<p>Как же нам сообщить об ошибке? Сообщив о её возможности в типе данных, который мы возвращаем.</p>

<h2 id="either-вместо-validated">Either вместо Validated</h2>

<p>Обычно для аккумуляции ошибок используетс тип<code class="highlighter-rouge">Validated</code>, а <code class="highlighter-rouge">Either</code> используется для того, чтобы завершить исполнение алгоритма после получения первой ошибки.</p>

<p>Правая сторона <code class="highlighter-rouge">Either</code> содержит в себе значение, возвращенное фукнцией в случае успешного завершения.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">right</span><span class="p">:</span> <span class="n">Either</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
<span class="n">right</span>
<span class="c1">// Right(b=5)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">left</span><span class="p">:</span> <span class="n">Either</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Left</span><span class="p">(</span><span class="s">&#34;Что-то пошло не так&#34;</span><span class="p">)</span>
<span class="n">left</span>
<span class="c1">// Left(a=Что-то пошло не так)</span>
</code></pre></div></div>
<p>Т.к. <code class="highlighter-rouge">Either</code> правосторонний тип данных, для нее можно определить инстанс монады.</p>

<p>Поскольку мы хотим, чтобы вычисление продолжилось только в случае <code class="highlighter-rouge">Right</code>, мы обозначаем левый тип и оставляем правый свободным.</p>

<p>Поэтому методы map и flatMap правосторонние:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">right</span><span class="p">:</span> <span class="n">Either</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
<span class="n">right</span><span class="p">.</span><span class="n">flatMap</span><span class="p">{</span><span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="n">it</span> <span class="p">+</span> <span class="m">1</span><span class="p">)}</span>
<span class="c1">// Right(b=6)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">left</span><span class="p">:</span> <span class="n">Either</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Left</span><span class="p">(</span><span class="s">&#34;Что-то пошло не так&#34;</span><span class="p">)</span>
<span class="n">left</span><span class="p">.</span><span class="n">flatMap</span><span class="p">{</span><span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="n">it</span> <span class="p">+</span> <span class="m">1</span><span class="p">)}</span>
<span class="c1">// Left(a=Что-то пошло не так)</span>
</code></pre></div></div>

<h2 id="используя-either-вместо-исключений">Используя Either вместо исключений</h2>

<p>В качестве примера рассмотрим серию функций, которая:</p>

<ul>
  <li>Парсит строковое значение в числовое</li>
  <li>Вычисляет обратную величину</li>
  <li>Конвертирует обратную величину в строковое значение</li>
</ul>

<p>Если бы мы использовали код, который бросает исключения, мы бы написали что-то вроде:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// Exception Style</span>

<span class="k">fun</span> <span class="nf">parse</span><span class="p">(</span><span class="nv">s</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">=</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">matches</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&#34;-?[0-9]+&#34;</span><span class="p">)))</span> <span class="n">s</span><span class="p">.</span><span class="n">toInt</span><span class="p">()</span>
    <span class="k">else</span> <span class="k">throw</span> <span class="n">NumberFormatException</span><span class="p">(</span><span class="s">&#34;$s не числовое значение.&#34;</span><span class="p">)</span>

<span class="k">fun</span> <span class="nf">reciprocal</span><span class="p">(</span><span class="nv">i</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Double</span> <span class="p">=</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="k">throw</span> <span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&#34;Нельзя вычислить обратную величину от 0.&#34;</span><span class="p">)</span>
    <span class="k">else</span> <span class="m">1.0</span> <span class="p">/</span> <span class="n">i</span>

<span class="k">fun</span> <span class="nf">stringify</span><span class="p">(</span><span class="nv">d</span><span class="p">:</span> <span class="nc">Double</span><span class="p">):</span> <span class="nc">String</span> <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span>
</code></pre></div></div>

<p>Вместо этого попробуем обозначить возможность неудачного завершения функции в её типе.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// Either Style</span>

<span class="k">fun</span> <span class="nf">parse</span><span class="p">(</span><span class="nv">s</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Either</span><span class="p">&lt;</span><span class="nc">NumberFormatException</span><span class="p">,</span> <span class="nc">Int</span><span class="p">&gt;</span> <span class="p">=</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">matches</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&#34;-?[0-9]+&#34;</span><span class="p">)))</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">toInt</span><span class="p">())</span>
    <span class="k">else</span> <span class="n">Either</span><span class="p">.</span><span class="n">Left</span><span class="p">(</span><span class="n">NumberFormatException</span><span class="p">(</span><span class="s">&#34;$s не числовое значение.&#34;</span><span class="p">))</span>

<span class="k">fun</span> <span class="nf">reciprocal</span><span class="p">(</span><span class="nv">i</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Either</span><span class="p">&lt;</span><span class="nc">IllegalArgumentException</span><span class="p">,</span> <span class="nc">Double</span><span class="p">&gt;</span> <span class="p">=</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="n">Either</span><span class="p">.</span><span class="n">Left</span><span class="p">(</span><span class="n">IllegalArgumentException</span><span class="p">(</span><span class="s">&#34;Нельзя вычислить обратную величину от 0.&#34;</span><span class="p">))</span>
    <span class="k">else</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">1.0</span> <span class="p">/</span> <span class="n">i</span><span class="p">)</span>

<span class="k">fun</span> <span class="nf">stringify</span><span class="p">(</span><span class="nv">d</span><span class="p">:</span> <span class="nc">Double</span><span class="p">):</span> <span class="nc">String</span> <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span>

<span class="k">fun</span> <span class="nf">magic</span><span class="p">(</span><span class="nv">s</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Either</span><span class="p">&lt;</span><span class="nc">Exception</span><span class="p">,</span> <span class="nc">String</span><span class="p">&gt;</span> <span class="p">=</span>
    <span class="n">parse</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="n">flatMap</span><span class="p">{</span><span class="n">reciprocal</span><span class="p">(</span><span class="n">it</span><span class="p">)}.</span><span class="n">map</span><span class="p">{</span><span class="n">stringify</span><span class="p">(</span><span class="n">it</span><span class="p">)}</span>

</code></pre></div></div>

<p>Теперь вызов <code class="highlighter-rouge">parse</code> вернет значения <code class="highlighter-rouge">Left</code> и <code class="highlighter-rouge">Right</code>.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">parse</span><span class="p">(</span><span class="s">&#34;Не числовое значение&#34;</span><span class="p">)</span>
<span class="c1">// Left(a=java.lang.NumberFormatException: Не числовое значение не числовое значение.)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">parse</span><span class="p">(</span><span class="s">&#34;2&#34;</span><span class="p">)</span>
<span class="c1">// Right(b=2)</span>
</code></pre></div></div>

<p>Используя комбинаторы вроде <code class="highlighter-rouge">flatMap</code> и <code class="highlighter-rouge">map</code>, мы можем скомпоновать функции вместе.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">magic</span><span class="p">(</span><span class="s">&#34;0&#34;</span><span class="p">)</span>
<span class="c1">// Left(a=java.lang.IllegalArgumentException: Нельзя вычислить обратную величину от 0.)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">magic</span><span class="p">(</span><span class="s">&#34;1&#34;</span><span class="p">)</span>
<span class="c1">// Right(b=1.0)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">magic</span><span class="p">(</span><span class="s">&#34;Не числовое значение&#34;</span><span class="p">)</span>
<span class="c1">// Left(a=java.lang.NumberFormatException: Не числовое значение не числовое значение.)</span>
</code></pre></div></div>

<p>В следующем примере мы обработаем все значения <code class="highlighter-rouge">Either</code>, возвращаемые методом <code class="highlighter-rouge">magic</code> с помощью паттерн-матчинга.
Обратите внимание на обработку <code class="highlighter-rouge">Left</code> в <code class="highlighter-rouge">when</code> - компилятор заругается, если не прописать случай <code class="highlighter-rouge">else</code>, т.к. значет, что тип <code class="highlighter-rouge">Either[Exception, String]</code> может вернуть что-то кроме <code class="highlighter-rouge">NumberFormatException</code> или <code class="highlighter-rouge">IllegalArgumentException</code>. Также заметим, что для доступа к значениям <code class="highlighter-rouge">Left</code> и <code class="highlighter-rouge">Right</code> используется <a href="https://kotlinlang.org/docs/reference/typecasts.html#smart-casts">Smart Cast</a>.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">x</span> <span class="p">=</span> <span class="n">magic</span><span class="p">(</span><span class="s">&#34;2&#34;</span><span class="p">)</span>
<span class="kd">val</span> <span class="py">value</span> <span class="p">=</span> <span class="k">when</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">is</span> <span class="n">Either</span><span class="p">.</span><span class="n">Left</span> <span class="p">-&gt;</span> <span class="k">when</span> <span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">a</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">is</span> <span class="n">NumberFormatException</span> <span class="p">-&gt;</span> <span class="s">&#34;Не числовое значение!&#34;</span>
        <span class="k">is</span> <span class="n">IllegalArgumentException</span> <span class="p">-&gt;</span> <span class="s">&#34;Нельзя вычислить обратную величину от 0&#34;</span>
        <span class="k">else</span> <span class="p">-&gt;</span> <span class="s">&#34;Неизвестная ошибка&#34;</span>
    <span class="p">}</span>
    <span class="k">is</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span> <span class="p">-&gt;</span> <span class="s">&#34;Полученная обратная величина: ${x.b}&#34;</span>
<span class="p">}</span>
<span class="n">value</span>
<span class="c1">// Полученная обратная величина: 0.5</span>
</code></pre></div></div>

<p>Вместо использования исключений как значения ошибки, попробуем перечислить всё, что может пойти не так при исполнении нашей программы.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Either with ADT Style</span>

<span class="k">sealed</span> <span class="kd">class</span> <span class="nc">Error</span> <span class="p">{</span>
    <span class="kd">object</span> <span class="nc">NotANumber</span> <span class="p">:</span> <span class="n">Error</span><span class="p">()</span>
    <span class="kd">object</span> <span class="nc">NoZeroReciprocal</span> <span class="p">:</span> <span class="n">Error</span><span class="p">()</span>
<span class="p">}</span>

<span class="k">fun</span> <span class="nf">parse</span><span class="p">(</span><span class="nv">s</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Either</span><span class="p">&lt;</span><span class="nc">Error</span><span class="p">,</span> <span class="nc">Int</span><span class="p">&gt;</span> <span class="p">=</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">matches</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&#34;-?[0-9]+&#34;</span><span class="p">)))</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">toInt</span><span class="p">())</span>
        <span class="k">else</span> <span class="n">Either</span><span class="p">.</span><span class="n">Left</span><span class="p">(</span><span class="n">Error</span><span class="p">.</span><span class="n">NotANumber</span><span class="p">)</span>

<span class="k">fun</span> <span class="nf">reciprocal</span><span class="p">(</span><span class="nv">i</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Either</span><span class="p">&lt;</span><span class="nc">Error</span><span class="p">,</span> <span class="nc">Double</span><span class="p">&gt;</span> <span class="p">=</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="n">Either</span><span class="p">.</span><span class="n">Left</span><span class="p">(</span><span class="n">Error</span><span class="p">.</span><span class="n">NoZeroReciprocal</span><span class="p">)</span>
        <span class="k">else</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">1.0</span> <span class="p">/</span> <span class="n">i</span><span class="p">)</span>

<span class="k">fun</span> <span class="nf">stringify</span><span class="p">(</span><span class="nv">d</span><span class="p">:</span> <span class="nc">Double</span><span class="p">):</span> <span class="nc">String</span> <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span>

<span class="k">fun</span> <span class="nf">magic</span><span class="p">(</span><span class="nv">s</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Either</span><span class="p">&lt;</span><span class="nc">Error</span><span class="p">,</span> <span class="nc">String</span><span class="p">&gt;</span> <span class="p">=</span>
        <span class="n">parse</span><span class="p">(</span><span class="n">s</span><span class="p">).</span><span class="n">flatMap</span><span class="p">{</span><span class="n">reciprocal</span><span class="p">(</span><span class="n">it</span><span class="p">)}.</span><span class="n">map</span><span class="p">{</span><span class="n">stringify</span><span class="p">(</span><span class="n">it</span><span class="p">)}</span>
</code></pre></div></div>

<p>Все ошибки, которые могут возникнуть, перечислены в классе Error. Теперь, вместо использования класса исключения как значения ошибки, мы будем использовать один из подклассов Error. Это позволит нам не описывать случай <code class="highlighter-rouge">else</code> при обработке ошибки с помощью паттерн-матчинга. Более того, из-за того, что класс Error &mdash; изолированный (sealed), никакой внешний код не может добавить подтип ошибки, который мы забудем обработать.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">x</span> <span class="p">=</span> <span class="n">magic</span><span class="p">(</span><span class="s">&#34;2&#34;</span><span class="p">)</span>
<span class="k">when</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">is</span> <span class="n">Either</span><span class="p">.</span><span class="n">Left</span> <span class="p">-&gt;</span> <span class="k">when</span> <span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">a</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">is</span> <span class="n">Error</span><span class="p">.</span><span class="n">NotANumber</span> <span class="p">-&gt;</span> <span class="s">&#34;Не числовое значение!&#34;</span>
        <span class="k">is</span> <span class="n">Error</span><span class="p">.</span><span class="n">NoZeroReciprocal</span> <span class="p">-&gt;</span> <span class="s">&#34;Нельзя вычислить обратную величину от 0&#34;</span>
    <span class="p">}</span>
    <span class="k">is</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span> <span class="p">-&gt;</span> <span class="s">&#34;Полученная обратная величина: ${x.b}&#34;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="синтаксис">Синтаксис</h2>

<p><code class="highlighter-rouge">Either</code> также может обрабатывать левые значения с помощью <code class="highlighter-rouge">mapLeft</code>, который схож с <code class="highlighter-rouge">map</code>, но применяется только к левым инстансам.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">r</span> <span class="p">:</span> <span class="n">Either</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">7</span><span class="p">)</span>
<span class="n">r</span><span class="p">.</span><span class="n">mapLeft</span> <span class="p">{</span><span class="n">it</span> <span class="p">+</span> <span class="m">1</span><span class="p">}</span>
<span class="kd">val</span> <span class="py">l</span><span class="p">:</span> <span class="n">Either</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Left</span><span class="p">(</span><span class="m">7</span><span class="p">)</span>
<span class="n">l</span><span class="p">.</span><span class="n">mapLeft</span> <span class="p">{</span><span class="n">it</span> <span class="p">+</span> <span class="m">1</span><span class="p">}</span>
<span class="c1">// Left(a=8)</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">Either&lt;A, B&gt;</code> можно трансформировать в <code class="highlighter-rouge">Either&lt;B,A&gt;</code> используя метод <code class="highlighter-rouge">swap()</code>.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">r</span><span class="p">:</span> <span class="n">Either</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">7</span><span class="p">)</span>
<span class="n">r</span><span class="p">.</span><span class="n">swap</span><span class="p">()</span>
<span class="c1">// Left(a=7)</span>
</code></pre></div></div>

<p>Для оборачивания в <code class="highlighter-rouge">Either</code> различных видов данных можно использовать функции <code class="highlighter-rouge">left()</code>, <code class="highlighter-rouge">right()</code>, <code class="highlighter-rouge">contains()</code>, <code class="highlighter-rouge">getOrElse()</code> и <code class="highlighter-rouge">getOrHandle()</code>:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="m">7</span><span class="p">.</span><span class="n">right</span><span class="p">()</span>
<span class="c1">// Right(b=7)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="s">&#34;привет&#34;</span><span class="p">.</span><span class="n">left</span><span class="p">()</span>
<span class="c1">// Left(a=привет)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">x</span> <span class="p">=</span> <span class="m">7</span><span class="p">.</span><span class="n">right</span><span class="p">()</span>
<span class="n">x</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="m">7</span><span class="p">)</span>
<span class="c1">// true</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">x</span> <span class="p">=</span> <span class="s">&#34;привет&#34;</span><span class="p">.</span><span class="n">left</span><span class="p">()</span>
<span class="n">x</span><span class="p">.</span><span class="n">getOrElse</span> <span class="p">{</span> <span class="m">7</span> <span class="p">}</span>
<span class="c1">// 7</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">x</span> <span class="p">=</span> <span class="s">&#34;привет&#34;</span><span class="p">.</span><span class="n">left</span><span class="p">()</span>
<span class="n">x</span><span class="p">.</span><span class="n">getOrHandle</span> <span class="p">{</span> <span class="s">&#34;$it мир!&#34;</span> <span class="p">}</span>
<span class="c1">// привет мир!</span>
</code></pre></div></div>

<p>Для создания инстанса <code class="highlighter-rouge">Either</code> на основе предиката используется метод <code class="highlighter-rouge">Either.cond()</code>:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">Either</span><span class="p">.</span><span class="n">cond</span><span class="p">(</span><span class="k">true</span><span class="p">,</span> <span class="p">{</span> <span class="m">42</span> <span class="p">},</span> <span class="p">{</span> <span class="s">&#34;Ошибка&#34;</span> <span class="p">})</span>
<span class="c1">// Right(b=42)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">Either</span><span class="p">.</span><span class="n">cond</span><span class="p">(</span><span class="k">false</span><span class="p">,</span> <span class="p">{</span> <span class="m">42</span> <span class="p">},</span> <span class="p">{</span> <span class="s">&#34;Ошибка&#34;</span> <span class="p">})</span>
<span class="c1">// Left(a=Ошибка)</span>
</code></pre></div></div>

<p>Также существует операция <code class="highlighter-rouge">fold</code>. Эта операция получит значение из <code class="highlighter-rouge">Either</code>, или предоставит дефолтное, в случае <code class="highlighter-rouge">Left</code></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">x</span> <span class="p">:</span> <span class="n">Either</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="m">7</span><span class="p">.</span><span class="n">right</span><span class="p">()</span>
<span class="n">x</span><span class="p">.</span><span class="n">fold</span><span class="p">({</span> <span class="m">1</span> <span class="p">},</span> <span class="p">{</span> <span class="n">it</span> <span class="p">+</span> <span class="m">3</span> <span class="p">})</span>
<span class="c1">// 10</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">y</span> <span class="p">:</span> <span class="n">Either</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="m">7</span><span class="p">.</span><span class="n">left</span><span class="p">()</span>
<span class="n">y</span><span class="p">.</span><span class="n">fold</span><span class="p">({</span> <span class="m">1</span> <span class="p">},</span> <span class="p">{</span> <span class="n">it</span> <span class="p">+</span> <span class="m">3</span> <span class="p">})</span>
<span class="c1">// 1</span>
</code></pre></div></div>

<p>Операция <code class="highlighter-rouge">getOrHandle()</code> позволяет трансформировать значение <code class="highlighter-rouge">Either.Left</code> в <code class="highlighter-rouge">Either.Right</code> используя значение <code class="highlighter-rouge">Left</code>. Это может быть полезным, когда  необходимо привести значение к определенному типу (например, для дальнейшего использования в <code class="highlighter-rouge">fold()</code>) но не требуется обработка случая <code class="highlighter-rouge">Either.Right</code>.</p>

<p>Например, если мы хотим смапить <code class="highlighter-rouge">Either&lt;Throwable, Int&gt;</code> в подходящий код статуса HTTP:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">r</span><span class="p">:</span> <span class="n">Either</span><span class="p">&lt;</span><span class="n">Throwable</span><span class="p">,</span> <span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Left</span><span class="p">(</span><span class="n">NumberFormatException</span><span class="p">())</span>
<span class="kd">val</span> <span class="py">httpStatusCode</span> <span class="p">=</span> <span class="n">r</span><span class="p">.</span><span class="n">getOrHandle</span> <span class="p">{</span>
	<span class="k">when</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">is</span> <span class="n">NumberFormatException</span> <span class="p">-&gt;</span> <span class="m">400</span>
		<span class="k">else</span> <span class="p">-&gt;</span> <span class="m">500</span>
	<span class="p">}</span>
<span class="p">}</span> <span class="c1">// 400</span>
</code></pre></div></div>

<p>Операция <code class="highlighter-rouge">leftIfNull</code> трансформирует null-значение от <code class="highlighter-rouge">Either.Right</code> в заданное значение <code class="highlighter-rouge">Either.Left</code>. 
Если значение не null, оно будет обёрнуто в <code class="highlighter-rouge">Either.Right</code> как не nullable (что очень удобно, т.к., позволяет избежать проверки на null в последующей цепочке вызовов).
Если же операция <code class="highlighter-rouge">leftIfNull</code> была вызвана на <code class="highlighter-rouge">Either.Left</code>, будет возвращен изначальный <code class="highlighter-rouge">Either.Left</code>.</p>

<p>Рассмотрим примеры ниже:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">Right</span><span class="p">(</span><span class="m">12</span><span class="p">).</span><span class="n">leftIfNull</span><span class="p">({</span> <span class="p">-</span><span class="m">1</span> <span class="p">})</span>
<span class="c1">// Right(b=12)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">Right</span><span class="p">(</span><span class="k">null</span><span class="p">).</span><span class="n">leftIfNull</span><span class="p">({</span> <span class="p">-</span><span class="m">1</span> <span class="p">})</span>
<span class="c1">// Left(a=-1)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
 <span class="n">Left</span><span class="p">(</span><span class="m">12</span><span class="p">).</span><span class="n">leftIfNull</span><span class="p">({</span> <span class="p">-</span><span class="m">1</span> <span class="p">})</span> <span class="c1">// 12</span>
<span class="c1">// Left(a=12)</span>
</code></pre></div></div>

<p>Еще одна полезная при работе с null значениями операция - <code class="highlighter-rouge">rightIfNotNull</code>.
Если значение null, то оно будет трансформировано в обозначенное <code class="highlighter-rouge">Either.Left</code>, а если оно не null, то обёрнуто в <code class="highlighter-rouge">Either.Right</code>.</p>

<p>Пример:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="s">&#34;значение&#34;</span><span class="p">.</span><span class="n">rightIfNotNull</span> <span class="p">{</span> <span class="s">&#34;значение для left&#34;</span> <span class="p">}</span>
<span class="c1">// Right(b=значение)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">null</span><span class="p">.</span><span class="n">rightIfNotNull</span> <span class="p">{</span> <span class="s">&#34;значение для left&#34;</span> <span class="p">}</span>
<span class="c1">// Left(a=значение для left)</span>
</code></pre></div></div>

<p>В Arrow есть инстансы <code class="highlighter-rouge">Either</code> для множества полезных классов типа, которые позволяют использовать и трансформировать значения.
<code class="highlighter-rouge">Option</code> и <code class="highlighter-rouge">Try</code> не требуют типизированного параметра с последующими функциями, но они используются для <code class="highlighter-rouge">Either.Left</code>.</p>

<p><a href="../../../typeclasses/functor/index.html"><code class="highlighter-rouge">Функтор</code></a></p>

<p>Трансормация внутренних значений</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.core.extensions.either.functor.*</span>

<span class="n">Right</span><span class="p">(</span><span class="m">1</span><span class="p">).</span><span class="n">map</span> <span class="p">{</span> <span class="n">it</span> <span class="p">+</span> <span class="m">1</span> <span class="p">}</span>
<span class="c1">// Right(b=2)</span>
</code></pre></div></div>

<p><a href="../../../typeclasses/applicative/index.html"><code class="highlighter-rouge">Аппликатив</code></a></p>

<p>Вычисление с использованиеми независимымых друг от друга значений.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.core.extensions.either.applicative.*</span>

<span class="n">tupled</span><span class="p">(</span><span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">1</span><span class="p">),</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="s">&#34;a&#34;</span><span class="p">),</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">2.0</span><span class="p">))</span>
<span class="c1">// Right(b=Tuple3(a=1, b=a, c=2.0))</span>
</code></pre></div></div>

<p><a href="../../../typeclasses/monad/index.html"><code class="highlighter-rouge">Монада</code></a></p>

<p>Вычисление с использованием зависимых значений, за исключением случаев их отстутствия</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">arrow.core.extensions.either.monad.*</span>

<span class="n">binding</span> <span class="p">{</span>
  <span class="kd">val</span> <span class="py">a</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">1</span><span class="p">).</span><span class="n">bind</span><span class="p">()</span>
  <span class="kd">val</span> <span class="py">b</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">1</span> <span class="p">+</span> <span class="n">a</span><span class="p">).</span><span class="n">bind</span><span class="p">()</span>
  <span class="kd">val</span> <span class="py">c</span> <span class="p">=</span> <span class="n">Either</span><span class="p">.</span><span class="n">Right</span><span class="p">(</span><span class="m">1</span> <span class="p">+</span> <span class="n">b</span><span class="p">).</span><span class="n">bind</span><span class="p">()</span>
  <span class="n">a</span> <span class="p">+</span> <span class="n">b</span> <span class="p">+</span> <span class="n">c</span>
<span class="p">}</span>
<span class="c1">// Right(6)</span>
</code></pre></div></div>

<h3 id="поддерживаемые-классы-типа">Поддерживаемые классы типа</h3>

<table>
  <tbody>
    <tr>
      <td>Module</td>
      <td>Type classes</td>
    </tr>
    <tr>
      <td><strong>arrow.aql</strong></td>
      <td><a href="https://next.arrow-kt.io/docs/arrow/aql/count">Count</a>, <a href="https://next.arrow-kt.io/docs/arrow/aql/from">From</a>, <a href="https://next.arrow-kt.io/docs/arrow/aql/groupby">GroupBy</a>, <a href="https://next.arrow-kt.io/docs/arrow/aql/orderby">OrderBy</a>, <a href="https://next.arrow-kt.io/docs/arrow/aql/select">Select</a>, <a href="https://next.arrow-kt.io/docs/arrow/aql/sum">Sum</a>, <a href="https://next.arrow-kt.io/docs/arrow/aql/union">Union</a></td>
    </tr>
    <tr>
      <td><strong>arrow.optics.typeclasses</strong></td>
      <td><a href="https://next.arrow-kt.io/docs/arrow/optics/typeclasses/each">Each</a></td>
    </tr>
    <tr>
      <td><strong>arrow.typeclasses</strong></td>
      <td><a href="https://next.arrow-kt.io/docs/arrow/typeclasses/applicative">Applicative</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/applicativeerror">ApplicativeError</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/bifunctor">Bifunctor</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/eq">Eq</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/foldable">Foldable</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/functor">Functor</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/hash">Hash</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/monad">Monad</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/monaderror">MonadError</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/monoid">Monoid</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/semigroup">Semigroup</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/semigroupk">SemigroupK</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/show">Show</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/traverse">Traverse</a></td>
    </tr>
    <tr>
      <td><strong>arrow.typeclasses.suspended.monad</strong></td>
      <td><a href="https://next.arrow-kt.io/docs/arrow/typeclasses/suspended/monad/fx">Fx</a></td>
    </tr>
    <tr>
      <td><strong>arrow.validation.refinedTypes.generic</strong></td>
      <td><a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/generic/nonempty">NonEmpty</a></td>
    </tr>
    <tr>
      <td><strong>arrow.validation.refinedTypes.numeric</strong></td>
      <td><a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/greater">Greater</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/greaterequal">GreaterEqual</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/less">Less</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/lessequal">LessEqual</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/negative">Negative</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/nonnegative">NonNegative</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/nonpositive">NonPositive</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/nonzero">NonZero</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/positive">Positive</a></td>
    </tr>
  </tbody>
</table>

    </div>
</div>

</div>
<!-- Jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!-- Arrow playground -->
<script src="https://unpkg.com/arrow-playground@1" data-selector="[class^=&#39;language-kotlin&#39;]"></script>
<!-- Highlight -->
<script src="../../../../../js/highlight.pack.js"></script>
<script>
  hljs.initHighlighting();
</script>
<!-- Docsearch -->
<script type="text/javascript" src="../../../../../js/docsearch.min.js"></script>
<!-- Custom scripts for this template -->
<script src="../../../../../js/functions.js"></script>
<!-- Gitter -->
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'arrow-kt/Lobby'
  };

</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script>



</body></html>