<!DOCTYPE html>
<html>




<head>
    <meta charset="UTF-8">
    <title>Arrow</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Functional companion to Kotlin's Standard Library">
    <meta name="keywords" content="functional-programming, kotlin-library, monads, monad-transformers, functional-data-structure, kotlin, fp-types, adt, free-monads, tagless-final, mtl, for-comprehension, category-theory">

    <meta property="og:image" content="http://arrow-kt.io/img/poster.png"/>
    <meta property="og:title" content="Arrow"/>
    <meta property="og:site_name" content="Arrow"/>
    <meta property="og:url" content="http://arrow-kt.io/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:description" content="Functional companion to Kotlin's Standard Library"/>
    <meta property="og:keywords" content="functional-programming, kotlin-library, monads, monad-transformers, functional-data-structure, kotlin, fp-types, adt, free-monads, tagless-final, mtl, for-comprehension, category-theory"/>

    <meta name="twitter:text:description" content="Functional companion to Kotlin's Standard Library"/>
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@arrow_kt">
    <meta name="twitter:creator" content="@arrow_kt">
    <meta name="twitter:image" content="http://arrow-kt.io/img/twitter-card.png"/>

    <!-- Arrow versions metadata -->
    <meta name="previous-version" data-title="" data-url="" />
    <meta name="stable-version" data-title="" data-url="" />
    <meta name="next-version" data-title="" data-url="" />

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet"
          type="text/css">
    <!-- Animated -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <!-- Arrow main css -->
    <link rel="shortcut icon" href="../../../../img/favicon.png">
    <!-- highlight  css -->
    <link rel="stylesheet" type="text/css" href="../../../../css/highlight/atom-one-light.css">
    <!-- Arrow main css -->
    <link rel="stylesheet" type="text/css" href="../../../../css/arrow.css">

    <!-- Code to manage version information -->
    <script src="../../../../js/docVersions.js" defer></script>

    <!-- Diagrams support -->
    <script src="../../../../js/dagre.min.js"></script>
    <script src="../../../../js/lodash.min.js"></script>
    <script src="../../../../js/nomnoml.js"></script>
    <script src="../../../../js/diagrams.js" async></script>

    
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-18433785-18"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-18433785-18');
</script>

    
</head>

<body id="doc-body">
<div id="wrapper">
    <div id="sidebar-wrapper">
    <div class="sidebar-brand">
        <a class="brand" href="https://next.arrow-kt.io/">
            <img src="../../../../img/arrow-brand-sidebar.svg" alt="">
            <span>Λrrow</span>
        </a>
        <button type="button" id="main-toggle" class="sidebar-toggle">
            <span class="close"></span>
        </button>
    </div>

    <ul class="sidebar-nav sidebar-doc-versions">
  <li class="sidebar-nav-item">
    <a href="index.html#">
      <span>Arrow version</span>
      <span id="arrow-version"></span>
    </a>
    <ul>
      <li>
        <a href="https://arrow-kt.io/docs/">
          <span>
            v0.9.0 - STABLE
          </span>
        </a>
      </li>

      <li>
        <a href="../../../index.html">
            <span>
              v0.9.1 - NEXT
            </span>
        </a>
      </li>

      <li>
        <a href="https://0-8-2.arrow-kt.io/docs/">
            <span>
              v0.8.2 -
              PREVIOUS
            </span>
        </a>
      </li>

      
        
      
        
      
        
      
    </ul>
  </li>
</ul>


    <ul class="sidebar-nav">
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Quick Start</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../index.html">
                        <i class="fa fa-circle"></i>
                        <span>Index</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../quickstart/libraries/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Libraries</span>
                    </a>
                </li>
                
                <li>
                    <a href="https://next.arrow-kt.io/blog/">
                        <i class="fa fa-circle"></i>
                        <span>Blogs & Presentations</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../quickstart/projects/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Projects & Examples</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Arrow Fx</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../effects/fx/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Getting Started</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../effects/fx/async/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Asynchronous & Concurrent Programming</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../effects/fx/polymorphism/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Polymorphism. One Program multiple runtimes</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>API Docs</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../apidocs/arrow-typeclasses/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Type Classes</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-core-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Data Types</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-core-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-extras/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Extra Data Types</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-extras-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Core Extra Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-kotlinx-coroutines-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Coroutines</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-kotlinx-coroutines-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Coroutines Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-rx2-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Rx2</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-rx2-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Rx2 Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-reactor-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Reactor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-reactor-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effects Reactor Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-streams/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Streams</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-mtl/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MTL</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-optics/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Optics</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-recursion-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Recursion</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-recursion-extensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Recursion Extensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-generic/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Generic</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-free-data/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Free</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-validation/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Validation</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Patterns</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../patterns/glossary/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Glossary</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/error_handling/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Error Handling</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/dependency_injection/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Dependency Injection</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/monads/index.html">
                        <i class="fa fa-circle"></i>
                        <span>The Monad Tutorial</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/monad_comprehensions/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monad Comprehensions</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/polymorphic_programs/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Polymorphic Programs</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../patterns/free_algebras/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Free Algebras</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Data Types</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../datatypes/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Intro</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../datatypes/basic/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Basic Types</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../core/option/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Option</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../core/either/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Either</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../core/try/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Try</span>
                    </a>
                </li>
                
                <li>
                    <a href="index.html">
                        <i class="fa fa-circle"></i>
                        <span>Validated</span>
                    </a>
                </li>
                
                <li>
                    <a href="../nonemptylist/index.html">
                        <i class="fa fa-circle"></i>
                        <span>NonEmptyList</span>
                    </a>
                </li>
                
                <li>
                    <a href="../listk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>ListK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../sequencek/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SequenceK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../setk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SetK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../mapk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MapK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../sortedmapk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SortedMapK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../ior/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Ior</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../core/id/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Id</span>
                    </a>
                </li>
                
                <li>
                    <a href="../reader/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Reader</span>
                    </a>
                </li>
                
                <li>
                    <a href="../kleisli/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Kleisli</span>
                    </a>
                </li>
                
                <li>
                    <a href="../state/index.html">
                        <i class="fa fa-circle"></i>
                        <span>State</span>
                    </a>
                </li>
                
                <li>
                    <a href="../statet/index.html">
                        <i class="fa fa-circle"></i>
                        <span>StateT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../store/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Store</span>
                    </a>
                </li>
                
                <li>
                    <a href="../moore/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Moore</span>
                    </a>
                </li>
                
                <li>
                    <a href="../sum/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Sum</span>
                    </a>
                </li>
                
                <li>
                    <a href="../day/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Day</span>
                    </a>
                </li>
                
                <li>
                    <a href="../writert/index.html">
                        <i class="fa fa-circle"></i>
                        <span>WriterT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../free/trampoline/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Trampoline</span>
                    </a>
                </li>
                
                <li>
                    <a href="../coproduct/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Coproduct</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../core/eval/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Eval</span>
                    </a>
                </li>
                
                <li>
                    <a href="../optiont/index.html">
                        <i class="fa fa-circle"></i>
                        <span>OptionT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../eithert/index.html">
                        <i class="fa fa-circle"></i>
                        <span>EitherT</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../core/function0/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Function0</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../core/function1/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Function1</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/const/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Const</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Type Classes</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../typeclasses/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Intro</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/show/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Show</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/eq/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Eq</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/hash/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Hash</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/order/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Order</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/semigroup/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Semigroup</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-typeclasses/arrow.typeclasses/-semigroupal/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Semigroupal</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-typeclasses/arrow.typeclasses/-monoidal/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monoidal</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/monoid/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monoid</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-typeclasses/arrow.typeclasses/-semiring/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Semiring</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/foldable/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Foldable</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/bifoldable/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bifoldable</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/traverse/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Traverse</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/reducible/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Reducible</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../mtl/typeclasses/traversefilter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>TraverseFilter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/functor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Functor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../mtl/typeclasses/functorfilter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>FunctorFilter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/applicative/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Applicative</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/applicativeerror/index.html">
                        <i class="fa fa-circle"></i>
                        <span>ApplicativeError</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/selective/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Selective</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/monad/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Monad</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/monaderror/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadError</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../effects/typeclasses/bracket/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bracket</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../mtl/typeclasses/monadfilter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadFilter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../mtl/typeclasses/monadreader/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadReader</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../mtl/typeclasses/monadwriter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadWriter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../mtl/typeclasses/monadstate/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadState</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../mtl/typeclasses/monadcombine/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadCombine</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/comonad/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Comonad</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/bimonad/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bimonad</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/bifunctor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Bifunctor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/profunctor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Profunctor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/semigroupk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>SemigroupK</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/monoidk/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonoidK</span>
                    </a>
                </li>
                
                <li>
                    <a href="https://next.arrow-kt.io/docs/typeclasses/inject/">
                        <i class="fa fa-circle"></i>
                        <span>Inject</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/alternative/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Alternative</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/divide/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Divide</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/divisible/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Divisible</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../typeclasses/decidable/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Decidable</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Effects</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../effects/io/index.html">
                        <i class="fa fa-circle"></i>
                        <span>IO</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../effects/monaddefer/index.html">
                        <i class="fa fa-circle"></i>
                        <span>MonadDefer</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../effects/async/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Async</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../effects/effect/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Effect</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../effects/promise/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Promise</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../effects/ref/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Ref</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../effects/fiber/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Fiber</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../apidocs/arrow-effects-data/arrow.effects/-resource/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Resource</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Optics</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../optics/dsl/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Optics DSL</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/iso/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Iso</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/lens/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Lens</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/optional/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Optional</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/prism/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Prism</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/getter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Getter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/setter/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Setter</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/fold/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Fold</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/traversal/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Traversal</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/cons/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Cons</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/snoc/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Snoc</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/at/index.html">
                        <i class="fa fa-circle"></i>
                        <span>At</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/index/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Index</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/filterindex/index.html">
                        <i class="fa fa-circle"></i>
                        <span>FilterIndex</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../optics/each/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Each</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Λrrow Query Language</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../aql/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Λrrow Query Language</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/select/index.html">
                        <i class="fa fa-circle"></i>
                        <span>select</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/from/index.html">
                        <i class="fa fa-circle"></i>
                        <span>from</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/where/index.html">
                        <i class="fa fa-circle"></i>
                        <span>where</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/groupby/index.html">
                        <i class="fa fa-circle"></i>
                        <span>groupBy</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/orderby/index.html">
                        <i class="fa fa-circle"></i>
                        <span>orderBy</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/sum/index.html">
                        <i class="fa fa-circle"></i>
                        <span>sum</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/union/index.html">
                        <i class="fa fa-circle"></i>
                        <span>union</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../aql/custom/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Custom Data Types</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Generic</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../generic/coproduct/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Coproduct</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../generic/product/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Product</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Integrations</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../integrations/rx2/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Rx2</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../integrations/reactor/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Reactor</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../integrations/kotlinxcoroutines/index.html">
                        <i class="fa fa-circle"></i>
                        <span>kotlinx.coroutines</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../integrations/retrofit/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Retrofit</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../integrations/kindedj/index.html">
                        <i class="fa fa-circle"></i>
                        <span>KindedJ</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Free</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../free/free/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Free</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../free/freeapplicative/index.html">
                        <i class="fa fa-circle"></i>
                        <span>FreeApplicative</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../free/cofree/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Cofree</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../free/yoneda/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Yoneda</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../free/coyoneda/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Coyoneda</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Recursion Schemes</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../recursion/intro/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Intro</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/recursive/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Recursive</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/corecursive/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Corecursive</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/birecursive/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Birecursive</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/mu/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Mu</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/nu/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Nu</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../recursion/fix/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Fix</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
        <li class="sidebar-nav-item">
            <a href="index.html#">
                <span>Legal</span>
                
                <i class="fa fa-angle-right"></i>
                
            </a>
            
            <ul>
                
                <li>
                    <a href="../../../legal/credits/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Credits</span>
                    </a>
                </li>
                
                <li>
                    <a href="../../../legal/licenses/index.html">
                        <i class="fa fa-circle"></i>
                        <span>Licenses</span>
                    </a>
                </li>
                
            </ul>
            
        </li>
        
    </ul>

</div>

    <div id="doc-wrapper">
    <div class="doc-header">
        <button type="button" id="main-toggle" class="sidebar-toggle">
            <i class="fa fa-lg fa-bars menu-icon"></i>
        </button>
        <div class="search-wrapper">
          <input id="docsearch" class="search" placeholder="Search documentation..." type="search">
        </div>
        <a target="_blank"
          href="https://github.com/arrow-kt/arrow/edit/master/modules/docs/arrow-docs/docs/docs/arrow/data/validated/README.md">
          <i class="fa fa-pencil"></i>
            Edit
        </a>
    </div>
    <div class="doc-content">
        
        <a class="button-video">
    <i class="fa fa-youtube-play"></i> Watch video
</a>

<div id="video-panel" class="video-panel">
    <h2><i class="fa fa-video-camera"></i> Video tutorial</h2>
    <div class="bg-video">
        <div class="wrapper-video">
            <div class="video-container">
                <iframe width="560" height="315"
                        src="https://www.youtube-nocookie.com/embed/ONwoUsHBJHg?rel=0&amp;showinfo=1"
                        frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
            </div>
        </div>
    </div>
</div>

        
        <h2 id="validated">Validated</h2>

<p class="beginner">beginner</p>

<p>Imagine you are filling out a web form to sign up for an account. You input your username and
password and submit. Response comes back saying your username can’t have dashes in it,
so you make some changes and resubmit. Can’t have special characters either. Change, resubmit.
Passwords need to have at least one capital letter. Change, resubmit. Password needs to have at least one number.</p>

<p>Or perhaps you’re reading from a configuration file. One could imagine the configuration library
you’re using returns a <code class="highlighter-rouge">Try</code>, or maybe a <code class="highlighter-rouge">Either</code>. Your parsing may look something like:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">data class</span> <span class="nc">ConnectionParams</span><span class="p">(</span><span class="kd">val</span> <span class="py">url</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">port</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="p">&lt;</span><span class="nc">A</span><span class="p">&gt;</span> <span class="nf">config</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Either</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">,</span> <span class="nc">A</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">TODO</span><span class="p">()</span>

<span class="n">config</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;(</span><span class="s">"url"</span><span class="p">).</span><span class="n">flatMap</span> <span class="p">{</span> <span class="n">url</span> <span class="p">-&gt;</span>
    <span class="n">config</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;(</span><span class="s">"port"</span><span class="p">).</span><span class="n">map</span> <span class="p">{</span> <span class="n">ConnectionParams</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">it</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You run your program and it says key “url” not found, turns out the key was “endpoint”. So
you change your code and re-run. Now it says the “port” key was not a well-formed integer.</p>

<p>It would be nice to have all of these errors reported simultaneously. That the username can’t
have dashes can be validated separately from it not having special characters, as well as
from the password needing to have certain requirements. A misspelled (or missing) field in
a config can be validated separately from another field not being well-formed.</p>

<p>Enter <code class="highlighter-rouge">Validated</code>.</p>

<h2 id="parallel-validation">Parallel Validation</h2>

<p>Our goal is to report any and all errors across independent bits of data. For instance, when
we ask for several pieces of configuration, each configuration field can be validated separately
from one another. How then do we enforce that the data we are working with is independent?
We ask for both of them up front.</p>

<p>As our running example, we will look at config parsing. Our config will be represented by a
<code class="highlighter-rouge">Map&lt;String, String&gt;</code>. Parsing will be handled by a <code class="highlighter-rouge">Read</code> type class - we provide instances only
for <code class="highlighter-rouge">String</code> and <code class="highlighter-rouge">Int</code> for brevity.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.*</span>
<span class="k">import</span> <span class="nn">arrow.core.*</span>

<span class="k">abstract</span> <span class="kd">class</span> <span class="nc">Read</span><span class="p">&lt;</span><span class="n">A</span><span class="p">&gt;</span> <span class="p">{</span>

    <span class="k">abstract</span> <span class="k">fun</span> <span class="nf">read</span><span class="p">(</span><span class="nv">s</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Option</span><span class="p">&lt;</span><span class="nc">A</span><span class="p">&gt;</span>

    <span class="k">companion</span> <span class="k">object</span> <span class="p">{</span>

        <span class="kd">val</span> <span class="py">stringRead</span><span class="p">:</span> <span class="n">Read</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="p">=</span>
            <span class="nv">object</span><span class="p">:</span> <span class="nc">Read</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;()</span> <span class="p">{</span>
                <span class="k">override</span> <span class="k">fun</span> <span class="nf">read</span><span class="p">(</span><span class="nv">s</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Option</span><span class="p">&lt;</span><span class="nc">String</span><span class="p">&gt;</span> <span class="p">=</span> <span class="n">Option</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="p">}</span>

        <span class="kd">val</span> <span class="py">intRead</span><span class="p">:</span> <span class="n">Read</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;</span> <span class="p">=</span>
            <span class="nv">object</span><span class="p">:</span> <span class="nc">Read</span><span class="p">&lt;</span><span class="nc">Int</span><span class="p">&gt;()</span> <span class="p">{</span>
                <span class="k">override</span> <span class="k">fun</span> <span class="nf">read</span><span class="p">(</span><span class="nv">s</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Option</span><span class="p">&lt;</span><span class="nc">Int</span><span class="p">&gt;</span> <span class="p">=</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">matches</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">"-?[0-9]+"</span><span class="p">)))</span> <span class="n">Option</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">toInt</span><span class="p">())</span> <span class="k">else</span> <span class="n">None</span>
            <span class="p">}</span>

    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>

<p>Then we enumerate our errors—when asking for a config value, one of two things can go wrong:
the field is missing, or it is not well-formed with regards to the expected type.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">sealed</span> <span class="kd">class</span> <span class="nc">ConfigError</span> <span class="p">{</span>
    <span class="kd">data class</span> <span class="nc">MissingConfig</span><span class="p">(</span><span class="kd">val</span> <span class="py">field</span><span class="p">:</span> <span class="n">String</span><span class="p">):</span> <span class="nc">ConfigError</span><span class="p">()</span>
    <span class="kd">data class</span> <span class="nc">ParseConfig</span><span class="p">(</span><span class="kd">val</span> <span class="py">field</span><span class="p">:</span> <span class="n">String</span><span class="p">):</span> <span class="nc">ConfigError</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<p>We need a data type that can represent either a successful value (a parsed configuration), or an error.
It would look like the following, which Arrow provides in <code class="highlighter-rouge">arrow.Validated</code>:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@higherkind</span> <span class="k">sealed</span> <span class="kd">class</span> <span class="nc">Validated</span><span class="p">&lt;</span><span class="k">out</span> <span class="n">E</span><span class="p">,</span> <span class="k">out</span> <span class="n">A</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">ValidatedOf</span><span class="p">&lt;</span><span class="n">E</span><span class="p">,</span> <span class="n">A</span><span class="p">&gt;</span> <span class="p">{</span>

    <span class="kd">data class</span> <span class="nc">Valid</span><span class="p">&lt;</span><span class="k">out</span> <span class="n">A</span><span class="p">&gt;(</span><span class="kd">val</span> <span class="py">a</span><span class="p">:</span> <span class="n">A</span><span class="p">)</span> <span class="p">:</span> <span class="nc">Validated</span><span class="p">&lt;</span><span class="nc">Nothing</span><span class="p">,</span> <span class="nc">A</span><span class="p">&gt;()</span>

    <span class="kd">data class</span> <span class="nc">Invalid</span><span class="p">&lt;</span><span class="k">out</span> <span class="n">E</span><span class="p">&gt;(</span><span class="kd">val</span> <span class="py">e</span><span class="p">:</span> <span class="n">E</span><span class="p">)</span> <span class="p">:</span> <span class="nc">Validated</span><span class="p">&lt;</span><span class="nc">E</span><span class="p">,</span> <span class="nc">Nothing</span><span class="p">&gt;()</span>

<span class="p">}</span>
</code></pre></div></div>

<p>Now we are ready to write our parser.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.data.*</span>

<span class="kd">data class</span> <span class="nc">Config</span><span class="p">(</span><span class="kd">val</span> <span class="py">map</span><span class="p">:</span> <span class="n">Map</span><span class="p">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>

    <span class="k">fun</span> <span class="p">&lt;</span><span class="nc">A</span><span class="p">&gt;</span> <span class="nf">parse</span><span class="p">(</span><span class="nv">read</span><span class="p">:</span> <span class="nc">Read</span><span class="p">&lt;</span><span class="nc">A</span><span class="p">&gt;,</span> <span class="nv">key</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Validated</span><span class="p">&lt;</span><span class="nc">ConfigError</span><span class="p">,</span> <span class="nc">A</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">v</span> <span class="p">=</span> <span class="n">Option</span><span class="p">.</span><span class="n">fromNullable</span><span class="p">(</span><span class="n">map</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
        <span class="k">return</span> <span class="k">when</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">is</span> <span class="n">Some</span> <span class="p">-&gt;</span> <span class="p">{</span>
                <span class="kd">val</span> <span class="py">s</span> <span class="p">=</span> <span class="n">read</span><span class="p">.</span><span class="n">read</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">t</span><span class="p">)</span>
                <span class="k">when</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">is</span> <span class="n">Some</span> <span class="p">-&gt;</span> <span class="n">s</span><span class="p">.</span><span class="n">t</span><span class="p">.</span><span class="n">valid</span><span class="p">()</span>
                    <span class="k">is</span> <span class="n">None</span> <span class="p">-&gt;</span> <span class="n">ConfigError</span><span class="p">.</span><span class="n">ParseConfig</span><span class="p">(</span><span class="n">key</span><span class="p">).</span><span class="n">invalid</span><span class="p">()</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">is</span> <span class="n">None</span> <span class="p">-&gt;</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Invalid</span><span class="p">(</span><span class="n">ConfigError</span><span class="p">.</span><span class="n">MissingConfig</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>

<p>Everything is in place to write the parallel validator. Recall that we can only do parallel
validation if each piece is independent. How do we enforce the data is independent? By
asking for all of it up front. Let’s start with two pieces of data.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="p">&lt;</span><span class="nc">E</span><span class="p">,</span> <span class="nc">A</span><span class="p">,</span> <span class="nc">B</span><span class="p">,</span> <span class="nc">C</span><span class="p">&gt;</span> <span class="nf">parallelValidate</span><span class="p">(</span><span class="nv">v1</span><span class="p">:</span> <span class="nc">Validated</span><span class="p">&lt;</span><span class="nc">E</span><span class="p">,</span> <span class="nc">A</span><span class="p">&gt;,</span> <span class="nv">v2</span><span class="p">:</span> <span class="nc">Validated</span><span class="p">&lt;</span><span class="nc">E</span><span class="p">,</span> <span class="nc">B</span><span class="p">&gt;,</span> <span class="n">f</span><span class="p">:</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">C</span><span class="p">):</span> <span class="nc">Validated</span><span class="p">&lt;</span><span class="nc">E</span><span class="p">,</span> <span class="nc">C</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">when</span> <span class="p">{</span>
        <span class="n">v1</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Valid</span> <span class="p">&amp;&amp;</span> <span class="n">v2</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Valid</span> <span class="p">-&gt;</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Valid</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">v2</span><span class="p">.</span><span class="n">a</span><span class="p">))</span>
        <span class="n">v1</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Valid</span> <span class="p">&amp;&amp;</span> <span class="n">v2</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Invalid</span> <span class="p">-&gt;</span> <span class="n">v2</span>
        <span class="n">v1</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Invalid</span> <span class="p">&amp;&amp;</span> <span class="n">v2</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Valid</span> <span class="p">-&gt;</span> <span class="n">v1</span>
        <span class="n">v1</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Invalid</span> <span class="p">&amp;&amp;</span> <span class="n">v2</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Invalid</span> <span class="p">-&gt;</span> <span class="n">TODO</span><span class="p">()</span>
        <span class="k">else</span> <span class="p">-&gt;</span> <span class="n">TODO</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>We’ve run into a problem. In the case where both have errors, We want to report both. we
don’t have a way to combine ConfigErrors. But as clients, we can change our Validated
values where the error can be combined, say, a <code class="highlighter-rouge">List&lt;ConfigError&gt;</code>.We are going to use a
<code class="highlighter-rouge">NonEmptyList&lt;ConfigError&gt;</code>—the NonEmptyList statically guarantees we have at least one value,
which aligns with the fact that if we have an Invalid, then we most certainly have at least one error.
This technique is so common there is a convenient method on <code class="highlighter-rouge">Validated</code> called <code class="highlighter-rouge">toValidatedNel</code>
that turns any <code class="highlighter-rouge">Validated&lt;E, A&gt;</code> value to a <code class="highlighter-rouge">Validated&lt;NonEmptyList&lt;E&gt;, A&gt;</code>. Additionally, the
type alias <code class="highlighter-rouge">ValidatedNel&lt;E, A&gt;</code> is provided.</p>

<p>Time to parse.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">fun</span> <span class="p">&lt;</span><span class="nc">E</span><span class="p">,</span> <span class="nc">A</span><span class="p">,</span> <span class="nc">B</span><span class="p">,</span> <span class="nc">C</span><span class="p">&gt;</span> <span class="nf">parallelValidate</span>
        <span class="p">(</span><span class="nv">v1</span><span class="p">:</span> <span class="nc">Validated</span><span class="p">&lt;</span><span class="nc">E</span><span class="p">,</span> <span class="nc">A</span><span class="p">&gt;,</span> <span class="nv">v2</span><span class="p">:</span> <span class="nc">Validated</span><span class="p">&lt;</span><span class="nc">E</span><span class="p">,</span> <span class="nc">B</span><span class="p">&gt;,</span> <span class="n">f</span><span class="p">:</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">C</span><span class="p">):</span> <span class="nc">Validated</span><span class="p">&lt;</span><span class="nc">NonEmptyList</span><span class="err">&lt;</span><span class="nc">E</span><span class="p">&gt;,</span> <span class="n">C</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">when</span> <span class="p">{</span>
        <span class="n">v1</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Valid</span> <span class="p">&amp;&amp;</span> <span class="n">v2</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Valid</span> <span class="p">-&gt;</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Valid</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">a</span><span class="p">,</span> <span class="n">v2</span><span class="p">.</span><span class="n">a</span><span class="p">))</span>
        <span class="n">v1</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Valid</span> <span class="p">&amp;&amp;</span> <span class="n">v2</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Invalid</span> <span class="p">-&gt;</span> <span class="n">v2</span><span class="p">.</span><span class="n">toValidatedNel</span><span class="p">()</span>
        <span class="n">v1</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Invalid</span> <span class="p">&amp;&amp;</span> <span class="n">v2</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Valid</span> <span class="p">-&gt;</span> <span class="n">v1</span><span class="p">.</span><span class="n">toValidatedNel</span><span class="p">()</span>
        <span class="n">v1</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Invalid</span> <span class="p">&amp;&amp;</span> <span class="n">v2</span> <span class="k">is</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Invalid</span> <span class="p">-&gt;</span> <span class="n">Validated</span><span class="p">.</span><span class="n">Invalid</span><span class="p">(</span><span class="n">NonEmptyList</span><span class="p">(</span><span class="n">v1</span><span class="p">.</span><span class="n">e</span><span class="p">,</span> <span class="n">listOf</span><span class="p">(</span><span class="n">v2</span><span class="p">.</span><span class="n">e</span><span class="p">)))</span>
        <span class="k">else</span> <span class="p">-&gt;</span> <span class="k">throw</span> <span class="n">IllegalStateException</span><span class="p">(</span><span class="s">"Not possible value"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Kotlin says that our match is not exhaustive and we have to add <code class="highlighter-rouge">else</code>.</p>

<p>When no errors are present in the configuration, we get a <code class="highlighter-rouge">ConnectionParams</code> wrapped in a <code class="highlighter-rouge">Valid</code> instance.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">config</span> <span class="p">=</span> <span class="n">Config</span><span class="p">(</span><span class="n">mapOf</span><span class="p">(</span><span class="s">"url"</span> <span class="n">to</span> <span class="s">"127.0.0.1"</span><span class="p">,</span> <span class="s">"port"</span> <span class="n">to</span> <span class="s">"1337"</span><span class="p">))</span>

<span class="kd">val</span> <span class="py">valid</span> <span class="p">=</span> <span class="n">parallelValidate</span><span class="p">(</span>
        <span class="n">config</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">Read</span><span class="p">.</span><span class="n">stringRead</span><span class="p">,</span> <span class="s">"url"</span><span class="p">),</span>
        <span class="n">config</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">Read</span><span class="p">.</span><span class="n">intRead</span><span class="p">,</span> <span class="s">"port"</span><span class="p">)</span>
<span class="p">)</span> <span class="p">{</span> <span class="n">url</span><span class="p">,</span> <span class="n">port</span> <span class="p">-&gt;</span>
    <span class="n">ConnectionParams</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">valid</span>
<span class="c1">// Valid(a=ConnectionParams(url=127.0.0.1, port=1337))</span>
</code></pre></div></div>

<p>But what happens when having one or more errors? They are accumulated in a <code class="highlighter-rouge">NonEmptyList</code> wrapped in
an <code class="highlighter-rouge">Invalid</code> instance.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">val</span> <span class="py">config</span> <span class="p">=</span> <span class="n">Config</span><span class="p">(</span><span class="n">mapOf</span><span class="p">(</span><span class="s">"url"</span> <span class="n">to</span> <span class="s">"127.0.0.1"</span><span class="p">,</span> <span class="s">"port"</span> <span class="n">to</span> <span class="s">"not a number"</span><span class="p">))</span>

<span class="kd">val</span> <span class="py">valid</span> <span class="p">=</span> <span class="n">parallelValidate</span><span class="p">(</span>
        <span class="n">config</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">Read</span><span class="p">.</span><span class="n">stringRead</span><span class="p">,</span> <span class="s">"url"</span><span class="p">),</span>
        <span class="n">config</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">Read</span><span class="p">.</span><span class="n">intRead</span><span class="p">,</span> <span class="s">"port"</span><span class="p">)</span>
<span class="p">)</span> <span class="p">{</span> <span class="n">url</span><span class="p">,</span> <span class="n">port</span> <span class="p">-&gt;</span>
    <span class="n">ConnectionParams</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">valid</span>
<span class="c1">// Invalid(e=NonEmptyList(all=[ParseConfig(field=port)]))</span>
</code></pre></div></div>

<h2 id="sequential-validation">Sequential Validation</h2>

<p>If you do want error accumulation but occasionally run into places where sequential validation is needed,
then Validated provides <code class="highlighter-rouge">withEither</code> method to allow you to temporarily turn a Validated
instance into an Either instance and apply it to a function.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">fun</span> <span class="nf">positive</span><span class="p">(</span><span class="nv">field</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="nv">i</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Either</span><span class="p">&lt;</span><span class="nc">ConfigError</span><span class="p">,</span> <span class="nc">Int</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span> <span class="n">i</span><span class="p">.</span><span class="n">right</span><span class="p">()</span>
    <span class="k">else</span> <span class="n">ConfigError</span><span class="p">.</span><span class="n">ParseConfig</span><span class="p">(</span><span class="n">field</span><span class="p">).</span><span class="n">left</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">val</span> <span class="py">config</span> <span class="p">=</span> <span class="n">Config</span><span class="p">(</span><span class="n">mapOf</span><span class="p">(</span><span class="s">"house_number"</span> <span class="n">to</span> <span class="s">"-42"</span><span class="p">))</span>


<span class="kd">val</span> <span class="py">houseNumber</span> <span class="p">=</span> <span class="n">config</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">Read</span><span class="p">.</span><span class="n">intRead</span><span class="p">,</span> <span class="s">"house_number"</span><span class="p">).</span><span class="n">withEither</span> <span class="p">{</span> <span class="n">either</span> <span class="p">-&gt;</span>
    <span class="n">either</span><span class="p">.</span><span class="n">flatMap</span> <span class="p">{</span> <span class="n">positive</span><span class="p">(</span><span class="s">"house_number"</span><span class="p">,</span> <span class="n">it</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="n">houseNumber</span>
<span class="c1">// Invalid(e=ParseConfig(field=house_number))</span>
</code></pre></div></div>

<h2 id="alternative-validation-strategies-to-validated-using-applicativeerror">Alternative validation strategies to Validated: using <code class="highlighter-rouge">ApplicativeError</code></h2>

<p>We may use <code class="highlighter-rouge">ApplicativeError</code> instead of <code class="highlighter-rouge">Validated</code> to abstract away validation strategies and raising errors in the context we are computing in.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nn">arrow.*</span>
<span class="k">import</span> <span class="nn">arrow.core.*</span>
<span class="k">import</span> <span class="nn">arrow.typeclasses.*</span>
<span class="k">import</span> <span class="nn">arrow.data.*</span>
<span class="k">import</span> <span class="nn">arrow.data.extensions.validated.applicativeError.*</span>
<span class="k">import</span> <span class="nn">arrow.core.extensions.either.applicativeError.*</span>
<span class="k">import</span> <span class="nn">arrow.data.extensions.nonemptylist.semigroup.*</span>

<span class="k">sealed</span> <span class="kd">class</span> <span class="nc">ValidationError</span><span class="p">(</span><span class="kd">val</span> <span class="py">msg</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">data class</span> <span class="nc">DoesNotContain</span><span class="p">(</span><span class="kd">val</span> <span class="py">value</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">:</span> <span class="nc">ValidationError</span><span class="p">(</span><span class="s">"Did not contain $value"</span><span class="p">)</span>
  <span class="kd">data class</span> <span class="nc">MaxLength</span><span class="p">(</span><span class="kd">val</span> <span class="py">value</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">:</span> <span class="nc">ValidationError</span><span class="p">(</span><span class="s">"Exceeded length of $value"</span><span class="p">)</span>
  <span class="kd">data class</span> <span class="nc">NotAnEmail</span><span class="p">(</span><span class="kd">val</span> <span class="py">reasons</span><span class="p">:</span> <span class="n">Nel</span><span class="p">&lt;</span><span class="n">ValidationError</span><span class="p">&gt;)</span> <span class="p">:</span> <span class="nc">ValidationError</span><span class="p">(</span><span class="s">"Not a valid email"</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">data class</span> <span class="nc">FormField</span><span class="p">(</span><span class="kd">val</span> <span class="py">label</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">value</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span>
<span class="kd">data class</span> <span class="nc">Email</span><span class="p">(</span><span class="kd">val</span> <span class="py">value</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span>

<span class="k">sealed</span> <span class="kd">class</span> <span class="nc">Rules</span><span class="p">&lt;</span><span class="n">F</span><span class="p">&gt;(</span><span class="nv">A</span><span class="p">:</span> <span class="nc">ApplicativeError</span><span class="p">&lt;</span><span class="nc">F</span><span class="p">,</span> <span class="nc">Nel</span><span class="err">&lt;</span><span class="nc">ValidationError</span><span class="p">&gt;&gt;)</span> <span class="p">:</span> <span class="nc">ApplicativeError</span><span class="p">&lt;</span><span class="nc">F</span><span class="p">,</span> <span class="nc">Nel</span><span class="err">&lt;</span><span class="nc">ValidationError</span><span class="p">&gt;&gt;</span> <span class="k">by</span> <span class="n">A</span> <span class="p">{</span>

  <span class="k">private</span> <span class="k">fun</span> <span class="nc">FormField</span><span class="p">.</span><span class="nf">contains</span><span class="p">(</span><span class="nv">needle</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Kind</span><span class="p">&lt;</span><span class="nc">F</span><span class="p">,</span> <span class="nc">FormField</span><span class="p">&gt;</span> <span class="p">=</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="n">needle</span><span class="p">,</span> <span class="k">false</span><span class="p">))</span> <span class="n">just</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="k">else</span> <span class="n">raiseError</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">.</span><span class="n">DoesNotContain</span><span class="p">(</span><span class="n">needle</span><span class="p">).</span><span class="n">nel</span><span class="p">())</span>

  <span class="k">private</span> <span class="k">fun</span> <span class="nc">FormField</span><span class="p">.</span><span class="nf">maxLength</span><span class="p">(</span><span class="nv">maxLength</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Kind</span><span class="p">&lt;</span><span class="nc">F</span><span class="p">,</span> <span class="nc">FormField</span><span class="p">&gt;</span> <span class="p">=</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="n">length</span> <span class="p">&lt;=</span> <span class="n">maxLength</span><span class="p">)</span> <span class="n">just</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="k">else</span> <span class="n">raiseError</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">.</span><span class="n">MaxLength</span><span class="p">(</span><span class="n">maxLength</span><span class="p">).</span><span class="n">nel</span><span class="p">())</span>

  <span class="k">fun</span> <span class="nc">FormField</span><span class="p">.</span><span class="nf">validateEmail</span><span class="p">():</span> <span class="nc">Kind</span><span class="p">&lt;</span><span class="nc">F</span><span class="p">,</span> <span class="nc">Email</span><span class="p">&gt;</span> <span class="p">=</span>
    <span class="n">map</span><span class="p">(</span><span class="n">contains</span><span class="p">(</span><span class="s">"@"</span><span class="p">),</span> <span class="n">maxLength</span><span class="p">(</span><span class="m">250</span><span class="p">),</span> <span class="p">{</span>
      <span class="n">Email</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="p">}).</span><span class="n">handleErrorWith</span> <span class="p">{</span> <span class="n">raiseError</span><span class="p">(</span><span class="n">ValidationError</span><span class="p">.</span><span class="n">NotAnEmail</span><span class="p">(</span><span class="n">it</span><span class="p">).</span><span class="n">nel</span><span class="p">())</span> <span class="p">}</span>

  <span class="kd">object</span> <span class="nc">ErrorAccumulationStrategy</span> <span class="p">:</span>
    <span class="n">Rules</span><span class="p">&lt;</span><span class="n">ValidatedPartialOf</span><span class="p">&lt;</span><span class="n">Nel</span><span class="p">&lt;</span><span class="n">ValidationError</span><span class="p">&gt;&gt;&gt;(</span><span class="n">Validated</span><span class="p">.</span><span class="n">applicativeError</span><span class="p">(</span><span class="n">NonEmptyList</span><span class="p">.</span><span class="n">semigroup</span><span class="p">()))</span>

  <span class="kd">object</span> <span class="nc">FailFastStrategy</span> <span class="p">:</span>
    <span class="n">Rules</span><span class="p">&lt;</span><span class="n">EitherPartialOf</span><span class="p">&lt;</span><span class="n">Nel</span><span class="p">&lt;</span><span class="n">ValidationError</span><span class="p">&gt;&gt;&gt;(</span><span class="n">Either</span><span class="p">.</span><span class="n">applicativeError</span><span class="p">())</span>

  <span class="k">companion</span> <span class="k">object</span> <span class="p">{</span>
    <span class="k">infix</span> <span class="k">fun</span> <span class="p">&lt;</span><span class="nc">A</span><span class="p">&gt;</span> <span class="nf">failFast</span><span class="p">(</span><span class="nv">f</span><span class="p">:</span> <span class="nc">FailFastStrategy</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">A</span><span class="p">):</span> <span class="nc">A</span> <span class="p">=</span> <span class="n">f</span><span class="p">(</span><span class="n">FailFastStrategy</span><span class="p">)</span>
    <span class="k">infix</span> <span class="k">fun</span> <span class="p">&lt;</span><span class="nc">A</span><span class="p">&gt;</span> <span class="nf">accumulateErrors</span><span class="p">(</span><span class="nv">f</span><span class="p">:</span> <span class="nc">ErrorAccumulationStrategy</span><span class="p">.()</span> <span class="p">-&gt;</span> <span class="n">A</span><span class="p">):</span> <span class="nc">A</span> <span class="p">=</span> <span class="n">f</span><span class="p">(</span><span class="n">ErrorAccumulationStrategy</span><span class="p">)</span>
  <span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">Rules</code> defines abstract behaviors that can be composed and have access to the scope of <code class="highlighter-rouge">ApplicativeError</code> where we can invoke <code class="highlighter-rouge">just</code> to lift values in to the positive result and <code class="highlighter-rouge">raiseError</code> into the error context.</p>

<p>Once we have such abstract algebra defined we can simply materialize it to data types that support different error strategies:</p>

<p><em>Error accumulation</em></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">Rules</span> <span class="n">accumulateErrors</span> <span class="p">{</span>
  <span class="n">listOf</span><span class="p">(</span>
    <span class="n">FormField</span><span class="p">(</span><span class="s">"Invalid Email Domain Label"</span><span class="p">,</span> <span class="s">"nowhere.com"</span><span class="p">),</span>
    <span class="n">FormField</span><span class="p">(</span><span class="s">"Too Long Email Label"</span><span class="p">,</span> <span class="s">"nowheretoolong${(0..251).map { "</span><span class="n">g</span><span class="s">" }}"</span><span class="p">),</span> <span class="c1">//this accumulates N errors</span>
    <span class="n">FormField</span><span class="p">(</span><span class="s">"Valid Email Label"</span><span class="p">,</span> <span class="s">"getlost@nowhere.com"</span><span class="p">)</span>
  <span class="p">).</span><span class="n">map</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">validateEmail</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// [Invalid(e=NonEmptyList(all=[NotAnEmail(reasons=NonEmptyList(all=[DoesNotContain(value=@)]))])), Invalid(e=NonEmptyList(all=[NotAnEmail(reasons=NonEmptyList(all=[DoesNotContain(value=@), MaxLength(value=250)]))])), Valid(a=Email(value=getlost@nowhere.com))]</span>
</code></pre></div></div>
<p><em>Fail Fast</em></p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">Rules</span> <span class="n">failFast</span> <span class="p">{</span>
  <span class="n">listOf</span><span class="p">(</span>
    <span class="n">FormField</span><span class="p">(</span><span class="s">"Invalid Email Domain Label"</span><span class="p">,</span> <span class="s">"nowhere.com"</span><span class="p">),</span>
    <span class="n">FormField</span><span class="p">(</span><span class="s">"Too Long Email Label"</span><span class="p">,</span> <span class="s">"nowheretoolong${(0..251).map { "</span><span class="n">g</span><span class="s">" }}"</span><span class="p">),</span> <span class="c1">//this fails fast</span>
    <span class="n">FormField</span><span class="p">(</span><span class="s">"Valid Email Label"</span><span class="p">,</span> <span class="s">"getlost@nowhere.com"</span><span class="p">)</span>
  <span class="p">).</span><span class="n">map</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">validateEmail</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// [Left(a=NonEmptyList(all=[NotAnEmail(reasons=NonEmptyList(all=[DoesNotContain(value=@)]))])), Left(a=NonEmptyList(all=[NotAnEmail(reasons=NonEmptyList(all=[DoesNotContain(value=@)]))])), Right(b=Email(value=getlost@nowhere.com))]</span>
</code></pre></div></div>

<h3 id="supported-type-classes">Supported type classes</h3>

<table>
  <tbody>
    <tr>
      <td>Module</td>
      <td>Type classes</td>
    </tr>
    <tr>
      <td><strong>arrow.typeclasses</strong></td>
      <td><a href="https://next.arrow-kt.io/docs/arrow/typeclasses/applicative">Applicative</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/applicativeerror">ApplicativeError</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/eq">Eq</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/foldable">Foldable</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/functor">Functor</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/hash">Hash</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/selective">Selective</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/semigroupk">SemigroupK</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/show">Show</a>, <a href="https://next.arrow-kt.io/docs/arrow/typeclasses/traverse">Traverse</a></td>
    </tr>
    <tr>
      <td><strong>arrow.validation.refinedTypes.generic</strong></td>
      <td><a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/generic/nonempty">NonEmpty</a></td>
    </tr>
    <tr>
      <td><strong>arrow.validation.refinedTypes.numeric</strong></td>
      <td><a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/greater">Greater</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/greaterequal">GreaterEqual</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/less">Less</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/lessequal">LessEqual</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/negative">Negative</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/nonnegative">NonNegative</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/nonpositive">NonPositive</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/nonzero">NonZero</a>, <a href="https://next.arrow-kt.io/docs/arrow/validation/refinedtypes/numeric/positive">Positive</a></td>
    </tr>
  </tbody>
</table>

    </div>
</div>

</div>
<!-- Jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!-- Arrow playground -->
<script src="https://unpkg.com/arrow-playground@1" data-selector="[class^='language-kotlin']"></script>
<!-- Highlight -->
<script src="../../../../js/highlight.pack.js"></script>
<script>
  hljs.initHighlighting();
</script>
<!-- Docsearch -->
<script type="text/javascript" src="../../../../js/docsearch.min.js"></script>
<!-- Custom scripts for this template -->
<script src="../../../../js/functions.js"></script>
<!-- Gitter -->
<script>
  ((window.gitter = {}).chat = {}).options = {
    room: 'arrow-kt/Lobby'
  };

</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

</body>
</html>
